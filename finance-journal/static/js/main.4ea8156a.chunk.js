(this["webpackJsonpfinance-journal"]=this["webpackJsonpfinance-journal"]||[]).push([[0],{101:function(e,t,a){e.exports=a(189)},106:function(e,t,a){},107:function(e,t,a){},189:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(36),c=a.n(o),s=(a(106),a(15)),l=a(16),i=a(18),u=a(17),p=a(19),d=(a(107),a(90)),m=a.n(d),h=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:m.a.Layout},this.props.children)}}]),t}(r.a.Component),f=a(29),v=a.n(f),_=a(69),y=a.n(_),E=function(e){return r.a.createElement("div",{className:y.a.Title},r.a.createElement("h4",{className:y.a.titleH},e.title))},b=a(70),O=a.n(b),g=function(e){var t=[O.a.Button];return e.classses.forEach((function(e){return t.push(O.a[e])})),r.a.createElement("button",{disabled:!e.disabled,onClick:e.onClick,className:t.join(" ")},e.name)},j=a(43),C=a.n(j),N=function(e){var t=[C.a.Modal];return e.classes&&e.classes.forEach((function(e){return t.push(C.a[e])})),r.a.createElement("div",{className:t.join(" ")},e.children)},k=a(30),D=a.n(k),M=function(e){return r.a.createElement("div",{className:D.a.CompaniesList},r.a.createElement("div",{className:D.a.header},r.a.createElement("span",null,"\u0418\u043c\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),r.a.createElement("span",null,"\u0410\u043a\u0446\u0438\u0438 "),r.a.createElement("span",null,"\u0414\u0438\u0432\u0438\u0434\u0435\u043d\u0434"),r.a.createElement("span",null,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c (\u0433\u043e\u0434)")),function(t){var a=[];for(var n in t)if(e.currency===t[n].currency){var o="".concat(e.afterTax," + ").concat(Math.random()),c=r.a.createElement("div",{className:D.a.row,key:o},r.a.createElement("span",{datatype:"name",className:D.a.CompanyName,onClick:e.showModalHandlerDelete},n),r.a.createElement("span",{datatype:"count"},t[n].count),r.a.createElement("span",{datatype:"dividendPerShare"},t[n].dividendPerShare),r.a.createElement("span",null,Math.ceil(t[n].count*t[n].dividendPerShare*100)/100));a.push(c)}return a}(e.companies),function(t){var a=[],n=0,o=0;for(var c in t)if(e.currency===t[c].currency){var s=t[c].count*t[c].dividendPerShare;n+=s,o+=s-.13*s}var l=r.a.createElement("div",{key:o,className:D.a.footer},r.a.createElement("div",{className:D.a.Total},r.a.createElement("span",null,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u0434\u043e \u0432\u044b\u0447\u0435\u0442\u0430 \u043d\u0430\u043b\u043e\u0433\u043e\u0432"),r.a.createElement("span",null,Math.ceil(100*n)/100)),r.a.createElement("div",{className:D.a.Total},r.a.createElement("span",null,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0447\u0435\u0442\u0430 \u043d\u0430\u043b\u043e\u0433\u043e\u0432"),r.a.createElement("span",{className:D.a.afterTax},Math.ceil(100*o)/100)));return a.push(l),a}(e.companies))},A=a(40),w=a.n(A),I=function(e){var t=[w.a.Input];return e.classes&&e.classes.forEach((function(e){return t.push(w.a[e])})),e.valid||t.push(w.a.Error),r.a.createElement("div",{className:w.a.InputWrapper},r.a.createElement("label",{htmlFor:e.htmlFor},e.label),r.a.createElement("input",{className:t.join(" "),type:e.type||"text",id:e.htmlFor,onChange:e.onChange,placeholder:e.placeholder,autoComplete:e.autocomplete,value:e.value}),r.a.createElement("span",{className:w.a.redText},!e.valid&&e.touched?e.errorMessage||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435":null))},S=function(e){return r.a.createElement("div",{onClick:e.onClick,className:C.a.FadeBg})},T=a(91),x=a.n(T),L=function(e){return r.a.createElement("div",{className:x.a.Preloader},r.a.createElement("div",null,r.a.createElement("div",null),r.a.createElement("div",null)))},P=a(9),R=a(4),U=a(20),F=a(6),H=a.n(F),B=a(100),W="RENDER",G=a(45),V=a.n(G),J=V.a.create({baseURL:"https://my-finance-journal.firebaseio.com/users/"}),q=a(72),Y=a.n(q);function X(e,t){if(!t)return!0;var a=!0;return t.required&&(a=""!==e.trim()&&a),"number"===t.type&&(a=Y.a.number(+e)&&a),"email"===t.type&&(a=Y.a.email(e)&&a),t.minLength&&(a=t.minLength<=e.length&&a),a}function z(){return function(e,t){var a,n,r,o;return H.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a=t().mainReducer,c.prev=1,c.next=4,H.a.awrap(J.get("/".concat(t().authReducer.token,".json")));case 4:if(n=c.sent,void 0!==(r=n.data.portfolio.companies)){c.next=9;break}return e({type:W,showPreloader:!1}),c.abrupt("return");case 9:o=Object(B.a)(a.currency),200===n.status&&(e({type:W,companies:r,showPreloader:!1}),Object.keys(r).forEach((function(e){var t=r[e].currency;o.includes(t)||o.push(t)})),e({type:"CURRENCY",currency:o})),c.next=16;break;case 13:c.prev=13,c.t0=c.catch(1),console.error(c.t0);case 16:case"end":return c.stop()}}),null,null,[[1,13]])}}function K(e,t){return function(a,n){var r=n().mainReducer,o=Object(R.a)({},r.modals);(o[t]=!0,"isOpenModalUpdateCompany"!==t)?a(function(e){return{type:"OPEN_MODAL_UPDATE",modals:e}}(o)):a(function(e,t){return{type:"OPEN_MODAL_UPDATE",modals:e,nameForDelete:t}}(o,e.target.parentNode.querySelector("span").textContent))}}function Q(e,t){return function(e,a){var n=a().mainReducer,r=Object(R.a)({},n.modals),o=Object(R.a)({},n.formAddInputs);r[t]=!1;Object.keys(o).forEach((function(e){var t=Object(R.a)({},o[e]);t.valid=!1,t.touched=!1,t.value="",o[e]=t})),e({type:"CLOSE_MODAL",modals:r,formAddInputs:o,isFormValid:!1})}}function Z(){return function(e){e({type:"SHOW_PRELOADER",showPreloader:!0}),e(z()),e(Q(0,"isOpenModalUpdateCompany"))}}var $=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"renderInputs",value:function(e){var t=this;return Object.keys(this.props[e]).map((function(a,n){var o=t.props[e][a];return r.a.createElement(I,{key:a+n,type:o.type,value:o.value,classes:o.className,htmlFor:a+n,valid:o.valid,touched:o.touched,label:o.label,errorMessage:o.errorMessage,autocomplete:o.autocomplete,onChange:function(n){return t.props.getCompanyData(n,a,e)}})}))}},{key:"componentDidMount",value:function(){this.props.renderCompanies()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:v.a.Main},r.a.createElement(E,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439"}),r.a.createElement("h2",{className:v.a.infoTitle},"\u0414\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u044b \u0432 \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u0435"),this.props.showPreloader?r.a.createElement(L,null):Object.keys(this.props.companies).length>0?this.props.currency.map((function(t,a){return r.a.createElement("div",{className:v.a.tableWrapper,key:a},r.a.createElement("h3",null,t),r.a.createElement(M,{currency:t,companies:e.props.companies,showModalHandlerDelete:function(t){return e.props.clickOnCompany(t)}}))})):r.a.createElement("div",{className:v.a.noCompany},"\u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u0437\u0430\u0432\u0435\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),r.a.createElement("div",{className:v.a.addSection},r.a.createElement(g,{classses:["green"],name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e",onClick:function(t){return e.props.openModal(t,"isOpenModalAddCompany")},disabled:!0})),this.props.modals.isOpenModalAddCompany?r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null,r.a.createElement("h3",{className:v.a.MainModalTitle},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"),r.a.createElement("form",{onSubmit:this.props.createCompany},this.renderInputs("formAddInputs"),r.a.createElement("select",{onChange:this.props.selectHandler},r.a.createElement("option",{value:"USD"},"USD"),r.a.createElement("option",{value:"RUB"},"RUB")),r.a.createElement(g,{disabled:this.props.isFormValid,classses:["blue"],name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"}))),r.a.createElement(S,{onClick:function(t){return e.props.closeModal(t,"isOpenModalAddCompany")}})):null,this.props.modals.isOpenModalUpdateCompany?r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null,r.a.createElement("h3",{className:v.a.deleteModal},'\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 "',this.props.nameForDelete,'"'),this.renderInputs("formUpdInputs"),r.a.createElement("div",{className:v.a.modalDeleteBtnBox},r.a.createElement(g,{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",classses:["red"],onClick:function(t){return e.props.deleteCompany(e.props.nameForDelete)},disabled:this.props.isFormValid}),r.a.createElement(g,{name:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",classses:["green"],onClick:this.props.updateCompany,disabled:this.props.isFormValid}))),r.a.createElement(S,{onClick:function(t){return e.props.closeModal(t,"isOpenModalUpdateCompany")}})):null)}}]),t}(r.a.Component);var ee=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.mainReducer))}),(function(e){return{renderCompanies:function(){return e(z())},createCompany:function(t){return e(function(e){return e.preventDefault(),function(e,t){var a,n,r,o,c,s,l,i,u,p;return H.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return n=function(e,t,a,n){return Object(U.a)({},e,{count:t,dividendPerShare:a,currency:n})},a=t().mainReducer,d.prev=2,r=a.company,o=r.name,c=r.count,s=r.dividendPerShare,l=r.currency,i=n(o,c,s,l),d.next=7,H.a.awrap(J.patch("/".concat(t().authReducer.token,"/portfolio/companies.json"),i));case 7:200===d.sent.status&&(u=Object(R.a)({},a.modals),p=Object(R.a)({},a.formAddInputs),u.isOpenModalAddCompany=!1,Object.keys(p).forEach((function(e){var t=Object(R.a)({},p[e]);t.value="",p[e]=t})),e({type:"CREATE_COMPANY",company:i,modals:u,formAddInputs:p}),e(z())),d.next=14;break;case 11:d.prev=11,d.t0=d.catch(2),console.error(d.t0);case 14:case"end":return d.stop()}}),null,null,[[2,11]])}}(t))},updateCompany:function(){return e((function(e,t){var a,n,r,o,c,s;return H.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t().mainReducer,n=a.company,r=n.name,o=n.count,c=n.dividendPerShare,e.next=4,H.a.awrap(J.put("/".concat(t().authReducer.token,"/portfolio/companies/").concat(r,"/count.json"),o));case 4:return s=e.sent,e.next=7,H.a.awrap(J.put("/".concat(t().authReducer.token,"/portfolio/companies/").concat(r,"/dividendPerShare.json"),c));case 7:200===s.status&&Z();case 8:case"end":return e.stop()}}))}))},deleteCompany:function(t){return e(function(e){return function(t,a){return H.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.a.awrap(J.delete("/".concat(a().authReducer.token,"/portfolio/companies/").concat(e,".json")));case 2:200===t.sent.status&&Z();case 4:case"end":return t.stop()}}))}}(t))},clickOnCompany:function(t){return e(function(e){return function(t,a){var n=a().mainReducer,r=Object.assign({},n.company),o=Object(R.a)({},n.formUpdInputs),c=Object(R.a)({},o.count),s=Object(R.a)({},o.dividendPerShare),l=e.target.parentNode;r.name=e.target.textContent,r.count=c.value=l.querySelector("span[datatype='count']").textContent,r.dividendPerShare=s.value=l.querySelector("span[datatype='dividendPerShare']").textContent,o.count=c,o.dividendPerShare=s,t({type:"GET_COMPANY_DATA",company:r,formUpdInputs:o,isFormValid:!0}),t(K(e,"isOpenModalUpdateCompany"))}}(t))},getCompanyData:function(t,a,n){return e(function(e,t,a){return function(n,r){var o,c=r().mainReducer,s=Object(R.a)({},c.company),l=Object(R.a)({},c[a]),i=Object(R.a)({},l[t]);i.touched=!0,i.value=e.target.value,i.valid=X(i.value,i.validation),l[t]=i,s[t]=e.target.value,s.currency="USD";var u=!0;Object.keys(l).forEach((function(e){u=l[e].valid&&u})),n((o={type:"GET_COMPANY_DATA",company:s},Object(U.a)(o,a,l),Object(U.a)(o,"isFormValid",u),o))}}(t,a,n))},openModal:function(t,a){return e(K(t,a))},closeModal:function(t,a){return e(Q(0,a))},selectHandler:function(t){return e(function(e){return function(t,a){var n=a().mainReducer,r=Object(R.a)({},n.company);r.currency=e.target.value,t({type:"CHANGE_SELECT",company:r})}}(t))}}}))($),te=a(22),ae=a.n(te),ne=a(46),re=a.n(ne),oe=a(93),ce=a.n(oe),se=function(e){var t=e.depo.sort((function(e,t){return new Date(e.date)-new Date(t.date)}));return r.a.createElement(r.a.Fragment,null,t.map((function(t,a){return r.a.createElement("li",{onClick:e.onClick,"data-currency":e.currency,"data-year":new Date(t.date).getFullYear(),"data-id":t.id,className:ce.a.li,key:a},r.a.createElement("span",null,function(e){var t=new Date(e).getDate(),a=new Date(e).toLocaleDateString("ru",{month:"long"});return"\u043c\u0430\u0440\u0442"===a?a+="a":a=a.slice(0,a.length-1)+"\u044f",[t,a].join(" ")}(t.date)),r.a.createElement("span",null,t.amount.toLocaleString("ru")," ","rub"===e.currency?"\u0440\u0443\u0431":"usd"===e.currency?"$":null))})))},le=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.showMoreHandler=function(){return a.setState({isOpen:!a.state.isOpen})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",{onClick:this.showMoreHandler,className:re.a.year},this.props.year," \u0433\u043e\u0434"),r.a.createElement("div",{className:re.a.currency},this.state.isOpen?Object.keys(this.props.currency).map((function(t,a){var n=e.props.currency[t];return r.a.createElement("div",{key:a,className:re.a.DepoCurrency},r.a.createElement("h4",{className:re.a.name},"rub"===t?"\u0420\u0443\u0431\u043b\u0438":"usd"===t?"\u0414\u043e\u043b\u043b\u0430\u0440\u044b":null),r.a.createElement("ul",null,r.a.createElement(se,{onClick:e.props.onClick,currency:t,depo:n})))})):null))}}]),t}(r.a.Component);var ie=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.depositReducer))}),(function(e){return{}}))(le),ue=a(94),pe=a.n(ue);a(130);function de(){return function(e,t){var a,n,r;return H.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,H.a.awrap(J.get("/".concat(t().authReducer.token,".json")));case 2:if(a=o.sent,n=a.data.portfolio.deposit,o.prev=4,r=!1,void 0!==n){o.next=10;break}return null,e({type:W,deposit:null,showPreloader:r}),o.abrupt("return");case 10:e({type:W,deposit:n,showPreloader:r}),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(4),console.error(o.t0);case 16:case"end":return o.stop()}}),null,null,[[4,13]])}}var me=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"renderInpus",value:function(e){var t=this;return Object.keys(this.props[e]).map((function(a,n){var o=t.props[e][a];return r.a.createElement(I,{key:a+n,type:o.type,value:o.value,classes:o.className,htmlFor:a+n,valid:o.valid,touched:o.touched,label:o.label,placeholder:o.placeholder,errorMessage:o.errorMessage,autocomplete:o.autocomplete,onChange:function(n){return t.props.onChangeHandler(n,a,e)}})}))}},{key:"componentDidMount",value:function(){this.props.renderDeposit()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:ae.a.Deposit},r.a.createElement("div",null,r.a.createElement(E,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0439"}),r.a.createElement("h3",{className:ae.a.infoTitle},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435"),r.a.createElement("form",{onSubmit:this.props.createDeposit},r.a.createElement("div",{className:ae.a.inputsBox},this.renderInpus("formAddDepoInputs"),r.a.createElement(pe.a,{selected:this.props.depositData.date,onChange:this.props.handleChangeDate,className:ae.a.datePicker,maxDate:new Date}),r.a.createElement("select",{className:ae.a.select,onChange:this.props.selectHandler},r.a.createElement("option",{value:"usd"},"USD"),r.a.createElement("option",{value:"rub"},"RUB"))),r.a.createElement(g,{classses:["green","addDepo"],name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435",disabled:this.props.isFormValid}))),r.a.createElement("div",{className:ae.a.depoAndStatistic},r.a.createElement("h3",{className:ae.a.infoTitle},"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f\u043c"),this.props.showPreloader?r.a.createElement(L,null):null===this.props.deposit?r.a.createElement("div",{className:ae.a.noDeposit}," \u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435 \u0431\u044b\u043b\u043e \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0439 "):r.a.createElement("div",{className:ae.a.DepoYear},Object.keys(this.props.deposit).map((function(t,a){var n=e.props.deposit[t];return r.a.createElement(ie,{onClick:e.props.openModal,currency:n,year:t,index:a,key:a})})))),this.props.showModal?r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null,r.a.createElement("h2",{className:ae.a.delModalTitle},"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435?"),r.a.createElement("div",{className:ae.a.modalButtons},r.a.createElement(g,{classses:["red"],name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",disabled:!0,onClick:this.props.deleteDeposit}),r.a.createElement(g,{classses:["green"],name:"\u041e\u0442\u043c\u0435\u043d\u0430",disabled:!0,onClick:this.props.closeModal}))),r.a.createElement(S,{onClick:this.props.closeModal})):null)}}]),t}(r.a.Component);var he=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.depositReducer))}),(function(e){return{renderDeposit:function(){return e(de())},createDeposit:function(t){return e(function(e){return e.preventDefault(),function(e,t){var a,n,r,o,c,s,l,i,u,p,d,m,h;return H.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return a=t().depositReducer,n=a.depositData,r=n.date,o=n.amount,c=n.currency,s=new Date(r).getFullYear(),f.next=5,H.a.awrap(J.get("/".concat(t().authReducer.token,"/portfolio/deposit/").concat(s,"/").concat(c,".json")));case 5:if(l=f.sent,i=!0,u=Object(R.a)({},a.formAddDepoInputs),(p=Object(R.a)({},u.amount)).value="",u.amount=p,null!==l.data){f.next=20;break}return(d=[]).push({amount:+o,date:r,id:d.length+Math.random()}),f.next=16,H.a.awrap(J.put("/".concat(t().authReducer.token,"/portfolio/deposit/").concat(s,"/").concat(c,".json"),d));case 16:return m=f.sent,!1,200===m.status&&(e({type:W,showPreloader:i,isFormValid:!1,formAddDepoInputs:u}),e(de())),f.abrupt("return");case 20:return l.data.push({amount:+o,date:r,id:l.data.length+Math.random()}),f.next=23,H.a.awrap(J.put("/".concat(t().authReducer.token,"/portfolio/deposit/").concat(s,"/").concat(c,".json"),l.data));case 23:h=f.sent,!1,200===h.status&&(e({type:W,showPreloader:i,isFormValid:!1,formAddDepoInputs:u}),e(de()));case 26:case"end":return f.stop()}}))}}(t))},deleteDeposit:function(t){return e((function(e,t){var a,n,r,o,c,s;return H.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a=t().depositReducer,n=!0,r=!1,o=Object(R.a)({},a.data),l.next=6,H.a.awrap(J.get("/".concat(t().authReducer.token,"/portfolio/deposit/").concat(o.year,"/").concat(o.currency,".json")));case 6:if(0!==(c=l.sent).data.length){l.next=14;break}return l.next=10,H.a.awrap(J.delete("/".concat(t().authReducer.token,"/portfolio/deposit/").concat(o.year,"/").concat(o.currency,".json")));case 10:200===l.sent.status&&(e({type:W,showPreloader:n,showModal:r}),e(de())),l.next=19;break;case 14:return s=c.data.filter((function(e){return e.id!==+o.id})),l.next=17,H.a.awrap(J.put("/".concat(t().authReducer.token,"/portfolio/deposit/").concat(o.year,"/").concat(o.currency,".json"),s));case 17:200===l.sent.status&&(e({type:W,showPreloader:n,showModal:r}),e(de()));case 19:case"end":return l.stop()}}))}))},openModal:function(t){return e(function(e){return function(t){t({type:"OPEN_MODAL",showModal:!0,data:e.target.dataset})}}(t))},closeModal:function(t){return e((function(e){e({type:"CLOSE_MODAL",showModal:!1})}))},onChangeHandler:function(t,a,n){return e(function(e,t,a){return function(n,r){var o,c=r().depositReducer,s=Object(R.a)({},c.depositData),l=Object(R.a)({},c[a]),i=Object(R.a)({},l[t]);i.touched=!0,i.value=e.target.value,i.valid=X(i.value,i.validation),s[t]=e.target.value,l[t]=i;var u=!0;Object.keys(l).forEach((function(e){u=l[e].valid&&u})),n((o={type:"ON_CHANGE",depositData:s},Object(U.a)(o,a,l),Object(U.a)(o,"isFormValid",u),o))}}(t,a,n))},handleChangeDate:function(t){return e(function(e){return function(t,a){var n=a().depositReducer,r=Object(R.a)({},n.depositData);r.date=Date.parse(e),t({type:"CHANGE_SELECT",depositData:r})}}(t))},selectHandler:function(t){return e(function(e){return function(t,a){var n=a().depositReducer,r=Object(R.a)({},n.depositData);r.currency=e.target.value,t({type:"CHANGE_SELECT",depositData:r})}}(t))}}}))(me),fe=a(97),ve=a.n(fe),_e=a(98),ye=a.n(_e),Ee=a(39),be=function(e){return r.a.createElement("nav",{className:ye.a.LinksInsideSidebar},r.a.createElement("li",null,r.a.createElement(Ee.b,{to:"/"}," \u0413\u043b\u0430\u0432\u043d\u0430\u044f ")),r.a.createElement("li",null,r.a.createElement(Ee.b,{to:"/depo"}," \u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f ")))};var Oe=function(){return r.a.createElement("div",{className:ve.a.SidebarNavigation},r.a.createElement(be,null))},ge=a(76),je=a.n(ge);var Ce=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.authReducer))}),(function(e){return{logout:function(t){return e(function(e){return e.preventDefault(),function(e){localStorage.removeItem("login"),e({type:"AUTH_LOGOUT"})}}(t))}}}))((function(e){return r.a.createElement("div",{className:je.a.Header},r.a.createElement("div",null,"Finance Journal"),null!==e.token?r.a.createElement("div",null,r.a.createElement("a",{onClick:e.logout,className:je.a.logoutLink,href:"#"},"\u0412\u044b\u0439\u0442\u0438")):null)})),Ne=a(32),ke=a(47),De=a.n(ke),Me=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"renderInput",value:function(e){var t=this;return Object.keys(this.props[e]).map((function(a,n){var o=t.props[e][a];return r.a.createElement(I,{key:n,type:o.type,label:o.label,errorMessage:o.errorMessage,className:o.className,placeholder:o.placeholder,valid:o.valid,touched:o.touched,value:o.value,validation:o.validation,onChange:function(n){return t.props.authChangeHandler(n,e,a)}})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:De.a.Auth},r.a.createElement(E,{title:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),r.a.createElement("p",{className:De.a.greetings},"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0438\u043b\u0438 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"),r.a.createElement("div",{className:De.a.authForm},r.a.createElement("form",{onSubmit:this.props.authForm},this.renderInput("authInputs"),r.a.createElement("div",{className:De.a.btnContainer},r.a.createElement(g,{classses:["green","authEntry"],name:"\u0412\u043e\u0439\u0442\u0438",disabled:this.props.isFormValid,onClick:this.props.loginHandler.bind(this,!0)}),r.a.createElement(g,{classses:["yellow","authReg"],name:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",disabled:this.props.isFormValid,onClick:this.props.loginHandler.bind(this,!1)})))))}}]),t}(r.a.Component);var Ae=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.authReducer))}),(function(e){return{authChangeHandler:function(t,a,n){return e(function(e,t,a){return function(n,r){var o,c=r().authReducer,s=Object(R.a)({},c[t]),l=Object(R.a)({},s[a]);l.touched=!0,l.value=e.target.value,l.valid=X(l.value,l.validation),s[a]=l;var i=!0;Object.keys(s).forEach((function(e){i=s[e].valid&&i})),n((o={type:"AUTH_INPUT"},Object(U.a)(o,t,s),Object(U.a)(o,"isFormValid",i),o))}}(t,a,n))},authForm:function(t){return e(function(e){return e.preventDefault(),function(e){}}(t))},loginHandler:function(t){return e(function(e){return function(t,a){var n,r,o,c,s,l,i,u;return H.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(n=a().authReducer,r=Object(R.a)({},n.authInputs),o=Object(R.a)({},n.authInputs.inputEmail),c=Object(R.a)({},n.authInputs.inputPassword),s={email:o.value,password:c.value,returnSecureToken:!0},!e){p.next=12;break}return l="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyB73IC7XvE6QjjTcMWXZNePBcn_uiLgqWA",p.next=9,H.a.awrap(V.a.post(l,s));case 9:i=p.sent,p.next=16;break;case 12:return l="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyB73IC7XvE6QjjTcMWXZNePBcn_uiLgqWA",p.next=15,H.a.awrap(V.a.post(l,s));case 15:i=p.sent;case 16:try{u={kind:i.data.kind,localId:i.data.localId,email:i.data.email,displayName:i.data.displayName,idToken:i.data.idToken,registered:i.data.registered,refreshToken:i.data.refreshToken,expiresIn:i.data.expiresIn},o.value="",c.value="",r.inputEmail=o,r.inputPassword=c,t({type:"AUTH_LOGIN",authInputs:r,token:u.localId}),t(z()),localStorage.setItem("login",JSON.stringify(u))}catch(d){console.log(d)}case 17:case"end":return p.stop()}}))}}(t))}}}))(Me),we=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.autoLogin()}},{key:"render",value:function(){return r.a.createElement(h,null,r.a.createElement(Ce,null),this.props.token?r.a.createElement("div",{className:"main-page-wrapper"},r.a.createElement(Oe,null),r.a.createElement("div",{className:"main-page-content"},r.a.createElement(Ne.d,null,r.a.createElement(Ne.b,{exact:!0,path:"/",component:ee}),r.a.createElement(Ne.b,{path:"/depo",component:he}),r.a.createElement(Ne.a,{to:"/",component:ee})))):r.a.createElement("div",{className:"main-page-wrapper"},r.a.createElement(Ne.b,null,r.a.createElement(Ne.b,{exact:!0,path:"/auth",component:Ae}),r.a.createElement(Ne.a,{to:"/auth",component:Ae}))))}}]),t}(n.Component);var Ie=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.authReducer))}),(function(e){return{autoLogin:function(){return e((function(e){var t=JSON.parse(localStorage.getItem("login"));e(null===t?{type:"AUTH_AUTO_LOGIN",token:null}:{type:"AUTH_AUTO_LOGIN",token:t.localId})}))}}}))(we);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se=a(31);function Te(e,t,a){return n={label:e,type:"text",errorMessage:t,className:[""],autocomplete:"off"},r=a,Object(R.a)({},n,{validation:r,valid:!r,touched:!1,value:""});var n,r}function xe(e,t,a){return n={label:e,type:"text",errorMessage:t,className:[""],autocomplete:"off"},r=a,Object(R.a)({},n,{validation:r,valid:!0,touched:!0,value:""});var n,r}var Le={user:null,nameForDelete:"",showPreloader:!0,isFormValid:!1,modals:{isOpenModalAddCompany:!1,isOpenModalUpdateCompany:!1},formAddInputs:{name:Te("\u0418\u043c\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438","\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",{required:!0}),count:Te("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0446\u0438\u0439","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",{required:!0,type:"number"}),dividendPerShare:Te("\u0420\u0430\u0437\u043c\u0435\u0440 \u0434\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u043e\u0432 (\u0432 \u0433\u043e\u0434)","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",{required:!0,type:"number"})},formUpdInputs:{count:xe("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0446\u0438\u0439","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",{required:!0,type:"number"}),dividendPerShare:xe("\u0420\u0430\u0437\u043c\u0435\u0440 \u0434\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u043e\u0432 (\u0432 \u0433\u043e\u0434)","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",{required:!0,type:"number"})},company:{name:"",count:"",dividendPerShare:"",currency:"USD"},companies:{},currency:[]};var Pe={user:null,isFormValid:!1,showModal:!1,showPreloader:!0,deposit:{},formAddDepoInputs:{amount:{type:"text",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",className:["depositInput"],placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",autocomplete:"off",valid:!1,touched:!1,value:"",validation:{required:!0,type:"number"}}},depositData:{currency:"usd",amount:"",date:Date.parse(new Date)},data:{},isOpen:!1};var Re={token:null,isFormValid:!1,authInputs:{inputEmail:{type:"email",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",className:["authLogin"],placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",autocomplete:"off",valid:!1,touched:!1,value:"",validation:{required:!0,type:"email"}},inputPassword:{type:"password",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",errorMessage:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u0435\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",className:["authLogin"],placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",autocomplete:"off",valid:!1,touched:!1,value:"",validation:{required:!0,minLength:6}}}};var Ue=Object(Se.c)({mainReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(R.a)({},e,{},t);case"CURRENCY":return Object(R.a)({},e,{currency:t.currency});case"CREATE_COMPANY":return Object(R.a)({},e,{company:t.company,modals:t.modals,formAddInputs:t.formAddInputs});case"SHOW_PRELOADER":return Object(R.a)({},e,{showPreloader:!0});case"GET_COMPANY_DATA":return Object(R.a)({},e,{},t);case"OPEN_MODAL_UPDATE":return Object(R.a)({},e,{modals:t.modals,nameForDelete:t.nameForDelete});case"CLOSE_MODAL":return Object(R.a)({},e,{modals:t.modals,formAddInputs:t.formAddInputs,isFormValid:t.isFormValid});case"CHANGE_SELECT":return Object(R.a)({},e,{company:t.company});default:return e}},depositReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:case"OPEN_MODAL":return Object(R.a)({},e,{},t);case"CLOSE_MODAL":return Object(R.a)({},e,{showModal:!1});case"ON_CHANGE":case"CHANGE_SELECT":return Object(R.a)({},e,{},t);default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_INPUT":return Object(R.a)({},e,{},t);case"AUTH_LOGIN":return Object(R.a)({},e,{token:t.token,authInputs:t.authInputs});case"AUTH_AUTO_LOGIN":return Object(R.a)({},e,{token:t.token});case"AUTH_LOGOUT":return Object(R.a)({},e,{token:null});default:return e}}}),Fe=a(99),He="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Se.d,Be=Object(Se.e)(Ue,He(Object(Se.a)(Fe.a))),We=r.a.createElement(P.a,{store:Be},r.a.createElement(Ee.a,null,r.a.createElement(Ie,null)));c.a.render(We,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},22:function(e,t,a){e.exports={infoTitle:"Deposit_infoTitle__3jPvq",depoAndStatistic:"Deposit_depoAndStatistic__BLdFw",addInputWrapper:"Deposit_addInputWrapper__2ApE4",inputsBox:"Deposit_inputsBox__2lUKt",datePicker:"Deposit_datePicker__9Amuz",select:"Deposit_select__2HWqy",DepoYear:"Deposit_DepoYear__1vYYJ",noDeposit:"Deposit_noDeposit___7nqY",modalButtons:"Deposit_modalButtons__AzZit",delModalTitle:"Deposit_delModalTitle__kuX5m"}},29:function(e,t,a){e.exports={Main:"Main_Main__tLe8l",MainModalTitle:"Main_MainModalTitle__1f-1K",MaindeleteModal:"Main_MaindeleteModal__2x1yU",addSection:"Main_addSection__2794a",modalDeleteBtnBox:"Main_modalDeleteBtnBox__30gau",deleteModal:"Main_deleteModal__1xsa4",tableWrapper:"Main_tableWrapper__fLrzA",infoTitle:"Main_infoTitle__2V_3C",noCompany:"Main_noCompany__1KDCH"}},30:function(e,t,a){e.exports={row:"CompaniesList_row__2lrJb",header:"CompaniesList_header__MrGh9",CompanyName:"CompaniesList_CompanyName__2UmpC",Total:"CompaniesList_Total__WAK6z",afterTax:"CompaniesList_afterTax__NTcIC",Actions:"CompaniesList_Actions__1d3N3",LinksInsideSidebar:"CompaniesList_LinksInsideSidebar__3UPM6"}},40:function(e,t,a){e.exports={Input:"Input_Input__2m_YL",InputWrapper:"Input_InputWrapper__1W6c2",Error:"Input_Error__3vb89",redText:"Input_redText__3KdDg",depositInput:"Input_depositInput__byGQf"}},43:function(e,t,a){e.exports={Modal:"Modal_Modal__1BCvN",FadeBg:"Modal_FadeBg__1qjO-"}},46:function(e,t,a){e.exports={year:"DepoInnerWrapper_year__2ZZLO",currency:"DepoInnerWrapper_currency__2vO-B",DepoCurrency:"DepoInnerWrapper_DepoCurrency__2rlkl",name:"DepoInnerWrapper_name__2-Jfz"}},47:function(e,t,a){e.exports={Auth:"Auth_Auth__1oHPk",mainTitle:"Auth_mainTitle__yuabT",greetings:"Auth_greetings__3bEfb",authForm:"Auth_authForm__35Tfa",btnContainer:"Auth_btnContainer__2KRRk"}},69:function(e,t,a){e.exports={Title:"Title_Title__3UNCg",titleH:"Title_titleH__2rTQg"}},70:function(e,t,a){e.exports={Button:"Button_Button__3IBz_",green:"Button_green__3BDkj",blue:"Button_blue__1uYHC",yellow:"Button_yellow__2A2Zk",red:"Button_red__2OblT",addDepo:"Button_addDepo__3fbc2"}},76:function(e,t,a){e.exports={Header:"Header_Header__-hM5V",logoutLink:"Header_logoutLink__1HFJb"}},90:function(e,t,a){e.exports={Layout:"Layout_Layout__1Ayt0"}},91:function(e,t,a){e.exports={Preloader:"Preloader_Preloader__3uQx-"}},93:function(e,t,a){e.exports={li:"DepoDateAndAmount_li__1orGn"}},97:function(e,t,a){e.exports={SidebarNavigation:"SidebarNavigation_SidebarNavigation__2yFEG"}},98:function(e,t,a){e.exports={LinksInsideSidebar:"LinksInsideSidebar_LinksInsideSidebar__1QGfA"}}},[[101,1,2]]]);
//# sourceMappingURL=main.4ea8156a.chunk.js.map