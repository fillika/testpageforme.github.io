(this["webpackJsonpfinance-journal"]=this["webpackJsonpfinance-journal"]||[]).push([[0],{102:function(e,t,a){e.exports={SidebarNavigation:"SidebarNavigation_SidebarNavigation__8W-w-"}},103:function(e,t,a){e.exports={LinksInsideSidebar:"LinksInsideSidebar_LinksInsideSidebar__hPL56"}},106:function(e,t,a){e.exports=a(186)},111:function(e,t,a){},112:function(e,t,a){},186:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(42),c=a.n(o),u=(a(111),a(18)),i=a(19),s=a(21),l=a(20),p=a(22),d=(a(112),a(95)),m=a.n(d),f=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:m.a.Layout},this.props.children)}}]),t}(r.a.Component),h=a(35),v=a.n(h),_=a(78),E=a.n(_),y=function(e){return r.a.createElement("div",{className:E.a.Title},r.a.createElement("h4",{className:E.a.titleH},e.title))},O=a(79),b=a.n(O),g=function(e){var t=[b.a.Button];return e.classses.forEach((function(e){return t.push(b.a[e])})),r.a.createElement("button",{disabled:!e.disabled,onClick:e.onClick,className:t.join(" ")},e.name)},j=a(52),C=a.n(j),N=function(e){var t=[C.a.Modal];return e.classes&&e.classes.forEach((function(e){return t.push(C.a[e])})),r.a.createElement("div",{className:t.join(" ")},e.children)},D=a(36),k=a.n(D),R=function(e){return r.a.createElement("div",{className:k.a.CompaniesList},r.a.createElement("div",{className:k.a.header},r.a.createElement("span",null,"\u0418\u043c\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),r.a.createElement("span",null,"\u0410\u043a\u0446\u0438\u0438 "),r.a.createElement("span",null,"\u0414\u0438\u0432\u0438\u0434\u0435\u043d\u0434"),r.a.createElement("span",null,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c (\u0433\u043e\u0434)")),function(t){var a=[];for(var n in t)if(e.currency===t[n].currency){var o="".concat(e.afterTax," + ").concat(Math.random()),c=r.a.createElement("div",{className:k.a.row,key:o},r.a.createElement("span",{datatype:"name",className:k.a.CompanyName,onClick:e.showModalHandlerDelete},n),r.a.createElement("span",{datatype:"count"},t[n].count),r.a.createElement("span",{datatype:"dividendPerShare"},t[n].dividendPerShare),r.a.createElement("span",null,Math.ceil(t[n].count*t[n].dividendPerShare*100)/100));a.push(c)}return a}(e.companies),function(t){var a=[],n=0,o=0;for(var c in t)if(e.currency===t[c].currency){var u=t[c].count*t[c].dividendPerShare;n+=u,o+=u-.13*u}var i=r.a.createElement("div",{key:o,className:k.a.footer},r.a.createElement("div",{className:k.a.Total},r.a.createElement("span",null,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u0434\u043e \u0432\u044b\u0447\u0435\u0442\u0430 \u043d\u0430\u043b\u043e\u0433\u043e\u0432"),r.a.createElement("span",null,Math.ceil(100*n)/100)),r.a.createElement("div",{className:k.a.Total},r.a.createElement("span",null,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0447\u0435\u0442\u0430 \u043d\u0430\u043b\u043e\u0433\u043e\u0432"),r.a.createElement("span",{className:k.a.afterTax},Math.ceil(100*o)/100)));return a.push(i),a}(e.companies))},A=a(46),M=a.n(A),S=function(e){var t=[M.a.Input];return e.classes&&e.classes.forEach((function(e){return t.push(M.a[e])})),e.valid||t.push(M.a.Error),r.a.createElement("div",{className:M.a.InputWrapper},r.a.createElement("label",{htmlFor:e.htmlFor},e.label),r.a.createElement("input",{className:t.join(" "),type:e.type||"text",id:e.htmlFor,onChange:e.onChange,placeholder:e.placeholder,autoComplete:e.autocomplete,value:e.value}),r.a.createElement("span",{className:M.a.redText},!e.valid&&e.touched?e.errorMessage||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435":null))},w=function(e){return r.a.createElement("div",{onClick:e.onClick,className:C.a.FadeBg})},T=a(96),I=a.n(T),L=function(e){return r.a.createElement("div",{className:I.a.Preloader},r.a.createElement("div",null,r.a.createElement("div",null),r.a.createElement("div",null)))},P=a(12),x=a(23),H=a(6),U=a(10),F=a.n(U),B=a(105),W=a(27),G="RENDER",V=a(81),J=a.n(V);function q(e,t){if(!t)return!0;var a=!0;return t.required&&(a=""!==e.trim()&&a),"number"===t.type&&(a=J.a.number(+e)&&a),"email"===t.type&&(a=J.a.email(e)&&a),t.minLength&&(a=t.minLength<=e.length&&a),a}var Y=a(28),z=a.n(Y);a(67);function X(){return function(){var e=Object(W.a)(F.a.mark((function e(t,a){var n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().mainReducer,r=z.a.database(),e.next=4,r.ref("/users/"+a().authReducer.token+"/portfolio/companies").update({});case 4:return e.next=6,r.ref("/users/"+a().authReducer.token+"/portfolio/companies").once("value").then((function(e){var a=e.val();if(null!==a&&void 0!==a)return a;t({type:G,showPreloader:!1,companies:{}})})).then((function(e){var a=Object(B.a)(n.currency);t({type:G,companies:e,showPreloader:!1}),Object.keys(e).forEach((function(t){var n=e[t].currency;a.includes(n)||a.push(n)})),t({type:"CURRENCY",currency:a})})).catch((function(e){return console.error(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}function Q(e,t){return function(a,n){var r=n().mainReducer,o=Object(H.a)({},r.modals);(o[t]=!0,"isOpenModalUpdateCompany"!==t)?a(function(e){return{type:"OPEN_MODAL_UPDATE",modals:e}}(o)):a(function(e,t){return{type:"OPEN_MODAL_UPDATE",modals:e,nameForDelete:t}}(o,e.target.parentNode.querySelector("span").textContent))}}function K(e,t){return function(e,a){var n=a().mainReducer,r=Object(H.a)({},n.modals),o=Object(H.a)({},n.formAddInputs);r[t]=!1;Object.keys(o).forEach((function(e){var t=Object(H.a)({},o[e]);t.valid=!1,t.touched=!1,t.value="",o[e]=t})),e({type:"CLOSE_MODAL",modals:r,formAddInputs:o,isFormValid:!1})}}function Z(e){return function(t){var a=e.val(),n=[];Object.keys(a).map((function(e){n.includes(a[e].currency)||n.push(a[e].currency)})),t({type:G,currency:n,companies:a,showPreloader:!1}),t(K(0,"isOpenModalUpdateCompany"))}}var $=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"renderInputs",value:function(e){var t=this;return Object.keys(this.props[e]).map((function(a,n){var o=t.props[e][a];return r.a.createElement(S,{key:a+n,type:o.type,value:o.value,classes:o.className,htmlFor:a+n,valid:o.valid,touched:o.touched,label:o.label,errorMessage:o.errorMessage,autocomplete:o.autocomplete,onChange:function(n){return t.props.getCompanyData(n,a,e)}})}))}},{key:"componentDidMount",value:function(){this.props.renderCompanies()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:v.a.Main},r.a.createElement(y,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439"}),r.a.createElement("h2",{className:v.a.infoTitle},"\u0414\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u044b \u0432 \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u0435"),this.props.showPreloader?r.a.createElement(L,null):0===Object.keys(this.props.companies).length?r.a.createElement("div",{className:v.a.noCompany},"\u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"):this.props.currency.map((function(t,a){return r.a.createElement("div",{className:v.a.tableWrapper,key:a},r.a.createElement("h3",null,t),r.a.createElement(R,{currency:t,companies:e.props.companies,showModalHandlerDelete:function(t){return e.props.clickOnCompany(t)}}))})),r.a.createElement("div",{className:v.a.addSection},r.a.createElement(g,{classses:["green"],name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e",onClick:function(t){return e.props.openModal(t,"isOpenModalAddCompany")},disabled:!0})),this.props.modals.isOpenModalAddCompany?r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null,r.a.createElement("h3",{className:v.a.MainModalTitle},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"),r.a.createElement("form",{onSubmit:this.props.createCompany},this.renderInputs("formAddInputs"),r.a.createElement("select",{onChange:this.props.selectHandler},r.a.createElement("option",{value:"USD"},"USD"),r.a.createElement("option",{value:"RUB"},"RUB")),r.a.createElement(g,{disabled:this.props.isFormValid,classses:["blue"],name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"}))),r.a.createElement(w,{onClick:function(t){return e.props.closeModal(t,"isOpenModalAddCompany")}})):null,this.props.modals.isOpenModalUpdateCompany?r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null,r.a.createElement("h3",{className:v.a.deleteModal},'\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 "',this.props.nameForDelete,'"'),this.renderInputs("formUpdInputs"),r.a.createElement("div",{className:v.a.modalDeleteBtnBox},r.a.createElement(g,{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",classses:["red"],onClick:function(t){return e.props.deleteCompany(e.props.nameForDelete)},disabled:this.props.isFormValid}),r.a.createElement(g,{name:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",classses:["green"],onClick:this.props.updateCompany,disabled:this.props.isFormValid}))),r.a.createElement(w,{onClick:function(t){return e.props.closeModal(t,"isOpenModalUpdateCompany")}})):null)}}]),t}(r.a.Component);var ee=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.mainReducer))}),(function(e){return{renderCompanies:function(){return e(X())},createCompany:function(t){return e(function(e){return e.preventDefault(),function(){var e=Object(W.a)(F.a.mark((function e(t,a){var n,r,o,c,u,i,s,l,p;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=function(e,t,a,n){return Object(x.a)({},e,{count:t,dividendPerShare:a,currency:n})},n=a().mainReducer,r=z.a.database(),o=n.company,c=o.name,u=o.count,i=o.dividendPerShare,s=o.currency,l=p(c,u,i,s),e.next=7,r.ref("/users/"+a().authReducer.token+"/portfolio/companies").update(l);case 7:return e.next=9,r.ref("/users/"+a().authReducer.token+"/portfolio/companies").once("value").then((function(e){var a=Object(H.a)({},n.modals),r=Object(H.a)({},n.formAddInputs);a.isOpenModalAddCompany=!1;var o=e.val();Object.keys(r).forEach((function(e){var t=Object(H.a)({},r[e]);t.value="",r[e]=t})),t({type:"CREATE_COMPANY",company:l,companies:o,modals:a,formAddInputs:r}),t(X())})).catch((function(e){return console.error(e)}));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}(t))},updateCompany:function(){return e(function(){var e=Object(W.a)(F.a.mark((function e(t,a){var n,r,o,c,u,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().mainReducer,r=z.a.database(),o=n.company,c=o.name,u=o.count,i=o.dividendPerShare,e.next=5,r.ref("/users/"+a().authReducer.token+"/portfolio/companies/"+c+"/dividendPerShare").set(i);case 5:return e.next=7,r.ref("/users/"+a().authReducer.token+"/portfolio/companies/"+c+"/count").set(u);case 7:return t({type:"SHOW_PRELOADER"}),e.next=10,r.ref("/users/"+a().authReducer.token+"/portfolio/companies").once("value").then((function(e){t(Z(e))})).catch((function(e){return console.error(e)}));case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},deleteCompany:function(t){return e(function(e){return function(){var t=Object(W.a)(F.a.mark((function t(a,n){var r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=z.a.database(),t.next=3,r.ref("/users/"+n().authReducer.token+"/portfolio/companies/"+e).remove();case 3:return t.next=5,r.ref("/users/"+n().authReducer.token+"/portfolio/companies").once("value").then((function(e){if(a({type:"SHOW_PRELOADER"}),null===e.val()){r.ref("/users/"+n().authReducer.token+"/portfolio/companies").update({});return a({type:G,currency:[],companies:{},showPreloader:!1}),void a(K(null,"isOpenModalUpdateCompany"))}return e})).then((function(e){a(Z(e))})).catch((function(e){console.error(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(t))},clickOnCompany:function(t){return e(function(e){return function(t,a){var n=a().mainReducer,r=Object.assign({},n.company),o=Object(H.a)({},n.formUpdInputs),c=Object(H.a)({},o.count),u=Object(H.a)({},o.dividendPerShare),i=e.target.parentNode;r.name=e.target.textContent,r.count=c.value=i.querySelector("span[datatype='count']").textContent,r.dividendPerShare=u.value=i.querySelector("span[datatype='dividendPerShare']").textContent,o.count=c,o.dividendPerShare=u,t({type:"GET_COMPANY_DATA",company:r,formUpdInputs:o,isFormValid:!0}),t(Q(e,"isOpenModalUpdateCompany"))}}(t))},getCompanyData:function(t,a,n){return e(function(e,t,a){return function(n,r){var o,c=r().mainReducer,u=Object(H.a)({},c.company),i=Object(H.a)({},c[a]),s=Object(H.a)({},i[t]);s.touched=!0,s.value=e.target.value,s.valid=q(s.value,s.validation),i[t]=s,u[t]=e.target.value,u.currency="USD";var l=!0;Object.keys(i).forEach((function(e){l=i[e].valid&&l})),n((o={type:"GET_COMPANY_DATA",company:u},Object(x.a)(o,a,i),Object(x.a)(o,"isFormValid",l),o))}}(t,a,n))},openModal:function(t,a){return e(Q(t,a))},closeModal:function(t,a){return e(K(0,a))},selectHandler:function(t){return e(function(e){return function(t,a){var n=a().mainReducer,r=Object(H.a)({},n.company);r.currency=e.target.value,t({type:"CHANGE_SELECT",company:r})}}(t))}}}))($),te=a(25),ae=a.n(te),ne=a(54),re=a.n(ne),oe=a(98),ce=a.n(oe),ue=function(e){var t=e.depo.sort((function(e,t){return new Date(e.date)-new Date(t.date)}));return r.a.createElement(r.a.Fragment,null,t.map((function(t,a){return r.a.createElement("li",{onClick:e.onClick,"data-currency":e.currency,"data-year":new Date(t.date).getFullYear(),"data-id":t.id,className:ce.a.li,key:a},r.a.createElement("span",null,function(e){var t=new Date(e).getDate(),a=new Date(e).toLocaleDateString("ru",{month:"long"});return"\u043c\u0430\u0440\u0442"===a?a+="a":a=a.slice(0,a.length-1)+"\u044f",[t,a].join(" ")}(t.date)),r.a.createElement("span",null,t.amount.toLocaleString("ru")," ","rub"===e.currency?"\u0440\u0443\u0431":"usd"===e.currency?"$":null))})))},ie=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.showMoreHandler=function(){return a.setState({isOpen:!a.state.isOpen})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",{onClick:this.showMoreHandler,className:re.a.year},this.props.year," \u0433\u043e\u0434"),r.a.createElement("div",{className:re.a.currency},this.state.isOpen?Object.keys(this.props.currency).map((function(t,a){var n=e.props.currency[t];return r.a.createElement("div",{key:a,className:re.a.DepoCurrency},r.a.createElement("h4",{className:re.a.name},"rub"===t?"\u0420\u0443\u0431\u043b\u0438":"usd"===t?"\u0414\u043e\u043b\u043b\u0430\u0440\u044b":null),r.a.createElement("ul",null,r.a.createElement(ue,{onClick:e.props.onClick,currency:t,depo:n})))})):null))}}]),t}(r.a.Component);var se=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.depositReducer))}),(function(e){return{}}))(ie),le=a(99),pe=a.n(le);a(118);function de(){return function(){var e=Object(W.a)(F.a.mark((function e(t,a){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.database(),e.next=3,n.ref("/users/"+a().authReducer.token+"/portfolio/deposit").once("value").then((function(e){var r=e.val();if(null!==r)t({type:G,deposit:r,showPreloader:!1});else{n.ref("/users/"+a().authReducer.token+"/portfolio").update({});t({type:G,deposit:{},showPreloader:!1})}})).catch((function(e){return console.error(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}var me=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"renderInpus",value:function(e){var t=this;return Object.keys(this.props[e]).map((function(a,n){var o=t.props[e][a];return r.a.createElement(S,{key:a+n,type:o.type,value:o.value,classes:o.className,htmlFor:a+n,valid:o.valid,touched:o.touched,label:o.label,placeholder:o.placeholder,errorMessage:o.errorMessage,autocomplete:o.autocomplete,onChange:function(n){return t.props.onChangeHandler(n,a,e)}})}))}},{key:"componentDidMount",value:function(){this.props.renderDeposit()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:ae.a.Deposit},r.a.createElement("div",null,r.a.createElement(y,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0439"}),r.a.createElement("h3",{className:ae.a.infoTitle},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435"),r.a.createElement("form",{onSubmit:this.props.createDeposit},r.a.createElement("div",{className:ae.a.inputsBox},this.renderInpus("formAddDepoInputs"),r.a.createElement(pe.a,{selected:this.props.depositData.date,onChange:this.props.handleChangeDate,className:ae.a.datePicker,maxDate:new Date}),r.a.createElement("select",{className:ae.a.select,onChange:this.props.selectHandler},r.a.createElement("option",{value:"usd"},"USD"),r.a.createElement("option",{value:"rub"},"RUB"))),r.a.createElement(g,{classses:["green","addDepo"],name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435",disabled:this.props.isFormValid}))),r.a.createElement("div",{className:ae.a.depoAndStatistic},r.a.createElement("h3",{className:ae.a.infoTitle},"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f\u043c"),this.props.showPreloader?r.a.createElement(L,null):0===Object.keys(this.props.deposit).length?r.a.createElement("div",{className:ae.a.noDeposit}," \u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435 \u0431\u044b\u043b\u043e \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0439 "):r.a.createElement("div",{className:ae.a.DepoYear},Object.keys(this.props.deposit).map((function(t,a){var n=e.props.deposit[t];return r.a.createElement(se,{onClick:e.props.openModal,currency:n,year:t,index:a,key:a})})))),this.props.showModal?r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null,r.a.createElement("h2",{className:ae.a.delModalTitle},"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435?"),r.a.createElement("div",{className:ae.a.modalButtons},r.a.createElement(g,{classses:["red"],name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",disabled:!0,onClick:this.props.deleteDeposit}),r.a.createElement(g,{classses:["green"],name:"\u041e\u0442\u043c\u0435\u043d\u0430",disabled:!0,onClick:this.props.closeModal}))),r.a.createElement(w,{onClick:this.props.closeModal})):null)}}]),t}(r.a.Component);var fe=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.depositReducer))}),(function(e){return{renderDeposit:function(){return e(de())},createDeposit:function(t){return e(function(e){return e.preventDefault(),function(){var e=Object(W.a)(F.a.mark((function e(t,a){var n,r,o,c,u,i,s,l,p;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.database(),r=a().depositReducer,o=r.depositData,c=o.date,u=o.amount,i=o.currency,s=new Date(c).getFullYear(),!0,l=Object(H.a)({},r.formAddDepoInputs),(p=Object(H.a)({},l.amount)).value="",l.amount=p,e.next=11,n.ref("/users/"+a().authReducer.token+"/portfolio/deposit/"+s+"/"+i).once("value").then((function(e){if(null===e.val()){var r=[];r.push({amount:+u,date:c,id:r.length+Math.random()}),n.ref("/users/"+a().authReducer.token+"/portfolio/deposit/"+s+"/"+i).set(r);return t({type:G,showPreloader:!0,isFormValid:!1,formAddDepoInputs:l}),void t(de())}e.val().push({amount:+u,date:c,id:e.val().length+Math.random()}),n.ref("/users/"+a().authReducer.token+"/portfolio/deposit/"+s+"/"+i).set(e.val());t({type:G,showPreloader:!0,isFormValid:!1,formAddDepoInputs:l}),t(de())})).catch((function(e){return console.error(e)}));case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}(t))},deleteDeposit:function(t){return e(function(){var e=Object(W.a)(F.a.mark((function e(t,a){var n,r,o,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().depositReducer,r=z.a.database(),o=Object(H.a)({},n.data),c="/users/"+a().authReducer.token+"/portfolio/deposit/"+o.year+"/"+o.currency,e.next=8,r.ref(c).once("value").then((function(e){if(1===e.val().length)r.ref(c).remove(),r.ref("/users/"+a().authReducer.token+"/portfolio/deposit").update({}),r.ref("/users/"+a().authReducer.token+"/portfolio/deposit").once("value").then((function(e){var a=e.val();null===a&&(a={}),t({type:G,deposit:a,showPreloader:!1,showModal:!1})})).catch((function(e){return console.error(e)}));else{var n=e.val().filter((function(e){return e.id!==+o.id}));r.ref(c).set(n),r.ref("/users/"+a().authReducer.token+"/portfolio/deposit").once("value").then((function(e){var a=e.val();t({type:G,deposit:a,showPreloader:!1,showModal:!1})})).catch((function(e){return console.error(e)}))}})).catch((function(e){return console.log(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},openModal:function(t){return e(function(e){return function(t){t({type:"OPEN_MODAL",showModal:!0,data:e.currentTarget.dataset})}}(t))},closeModal:function(t){return e((function(e){e({type:"DEPOSIT_CLOSE_MODAL",showModal:!1})}))},onChangeHandler:function(t,a,n){return e(function(e,t,a){return function(n,r){var o,c=r().depositReducer,u=Object(H.a)({},c.depositData),i=Object(H.a)({},c[a]),s=Object(H.a)({},i[t]);s.touched=!0,s.value=e.target.value,s.valid=q(s.value,s.validation),u[t]=e.target.value,i[t]=s;var l=!0;Object.keys(i).forEach((function(e){l=i[e].valid&&l})),n((o={type:"ON_CHANGE",depositData:u},Object(x.a)(o,a,i),Object(x.a)(o,"isFormValid",l),o))}}(t,a,n))},handleChangeDate:function(t){return e(function(e){return function(t,a){var n=a().depositReducer,r=Object(H.a)({},n.depositData);r.date=Date.parse(e),t({type:"CHANGE_SELECT",depositData:r})}}(t))},selectHandler:function(t){return e(function(e){return function(t,a){var n=a().depositReducer,r=Object(H.a)({},n.depositData);r.currency=e.target.value,t({type:"CHANGE_SELECT",depositData:r})}}(t))}}}))(me),he=a(102),ve=a.n(he),_e=a(103),Ee=a.n(_e),ye=a(45),Oe=function(e){return r.a.createElement("nav",{className:Ee.a.LinksInsideSidebar},r.a.createElement("li",null,r.a.createElement(ye.b,{to:"/"}," \u0413\u043b\u0430\u0432\u043d\u0430\u044f ")),r.a.createElement("li",null,r.a.createElement(ye.b,{to:"/depo"}," \u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f ")))};var be=function(){return r.a.createElement("div",{className:ve.a.SidebarNavigation},r.a.createElement(Oe,null))},ge=a(85),je=a.n(ge),Ce=a(47),Ne=a.n(Ce);function De(e){return function(t){t({type:"AUTH_SHOW_ERROR",error:e.message}),setTimeout((function(){t({type:"AUTH_CLOSE_ERROR"})}),8500)}}var ke=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.authReducer))}),(function(e){return{logout:function(t){return e(function(e){return e.preventDefault(),function(e){Ne.a.auth().signOut().then((function(){localStorage.removeItem("login"),e({type:"AUTH_LOGOUT"}),e({type:"MAIN_RENDER",currency:[]}),e({type:"DEPOSIT_RENDER",deposit:{}})})).catch((function(t){e({type:"AUTH_SHOW_ERROR",error:t.message}),setTimeout((function(){e({type:"AUTH_CLOSE_ERROR"})}),8500)}))}}(t))}}}))((function(e){return r.a.createElement("div",{className:je.a.Header},r.a.createElement("div",null,"Finance Journal"),null!==e.token?r.a.createElement("div",null,r.a.createElement("a",{onClick:e.logout,className:je.a.logoutLink,href:"#"},"\u0412\u044b\u0439\u0442\u0438")):null)})),Re=a(38),Ae=a(48),Me=a.n(Ae),Se=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"renderInput",value:function(e){var t=this;return Object.keys(this.props[e]).map((function(a,n){var o=t.props[e][a];return r.a.createElement(S,{key:n,type:o.type,label:o.label,errorMessage:o.errorMessage,className:o.className,placeholder:o.placeholder,valid:o.valid,touched:o.touched,value:o.value,validation:o.validation,onChange:function(n){return t.props.authChangeHandler(n,e,a)}})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:Me.a.Auth},r.a.createElement(y,{title:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),r.a.createElement("p",{className:Me.a.greetings},"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0438\u043b\u0438 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"),null===this.props.error?null:r.a.createElement("p",{className:Me.a.error},this.props.error),r.a.createElement("div",{className:Me.a.authForm},r.a.createElement("form",{onSubmit:this.props.authForm},this.renderInput("authInputs"),r.a.createElement("div",{className:Me.a.btnContainer},r.a.createElement(g,{classses:["green","authEntry"],name:"\u0412\u043e\u0439\u0442\u0438",disabled:this.props.isFormValid,onClick:this.props.loginHandler.bind(this,!0)}),r.a.createElement(g,{classses:["yellow","authReg"],name:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",disabled:this.props.isFormValid,onClick:this.props.loginHandler.bind(this,!1)})))))}}]),t}(r.a.Component);var we=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.authReducer))}),(function(e){return{authChangeHandler:function(t,a,n){return e(function(e,t,a){return function(n,r){var o,c=r().authReducer,u=Object(H.a)({},c[t]),i=Object(H.a)({},u[a]);i.touched=!0,i.value=e.target.value,i.valid=q(i.value,i.validation),u[a]=i;var s=!0;Object.keys(u).forEach((function(e){s=u[e].valid&&s})),n((o={type:"AUTH_INPUT"},Object(x.a)(o,t,u),Object(x.a)(o,"isFormValid",s),o))}}(t,a,n))},authForm:function(t){return e(function(e){return e.preventDefault(),function(e){}}(t))},loginHandler:function(t){return e(function(e){return function(){var t=Object(W.a)(F.a.mark((function t(a,n){var r,o,c,u,i,s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n().authReducer,o=Object(H.a)({},r.authInputs),c=Object(H.a)({},r.authInputs.inputEmail),u=Object(H.a)({},r.authInputs.inputPassword),i=c.value,s=u.value,t.prev=6,!e){t.next=12;break}return t.next=10,Ne.a.auth().signInWithEmailAndPassword(i,s);case 10:t.next=14;break;case 12:return t.next=14,Ne.a.auth().createUserWithEmailAndPassword(i,s);case 14:return t.next=16,Ne.a.auth().onAuthStateChanged((function(e){var t=Ne.a.auth().currentUser;if(t.emailVerified){var n={uid:e.uid,entryTime:+e.metadata.b};c.value=u.value="",o.inputEmail=c,o.inputPassword=u,a({type:"AUTH_LOGIN",authInputs:o,token:n.uid}),a(X()),localStorage.setItem("login",JSON.stringify(n))}else t.sendEmailVerification().then((function(){a({type:"AUTH_SHOW_ERROR",error:"\u0412\u0430\u043c \u043d\u0430 \u043f\u043e\u0447\u0442\u0443 \u0431\u044b\u043b\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u0441 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435\u043c. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0432\u043e\u044e \u043f\u043e\u0447\u0442\u0443"}),setTimeout((function(){a({type:"AUTH_CLOSE_ERROR"})}),8500)})).catch((function(e){a({type:"AUTH_SHOW_ERROR",error:e.message}),setTimeout((function(){a({type:"AUTH_CLOSE_ERROR"})}),8500)}))}));case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(6),a(De(t.t0));case 21:case"end":return t.stop()}}),t,null,[[6,18]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}}}))(Se),Te=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.autoLogin()}},{key:"render",value:function(){return r.a.createElement(f,null,r.a.createElement(ke,null),this.props.token?r.a.createElement("div",{className:"main-page-wrapper"},r.a.createElement(be,null),r.a.createElement("div",{className:"main-page-content"},r.a.createElement(Re.d,null,r.a.createElement(Re.b,{exact:!0,path:"/",component:ee}),r.a.createElement(Re.b,{path:"/depo",component:fe}),r.a.createElement(Re.a,{to:"/",component:ee})))):r.a.createElement("div",{className:"main-page-wrapper"},r.a.createElement(Re.b,null,r.a.createElement(Re.b,{exact:!0,path:"/auth",component:we}),r.a.createElement(Re.a,{to:"/auth",component:we}))))}}]),t}(n.Component);var Ie=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.authReducer))}),(function(e){return{autoLogin:function(){return e((function(e){var t=JSON.parse(localStorage.getItem("login"));e(null===t?{type:"AUTH_AUTO_LOGIN",token:null}:{type:"AUTH_AUTO_LOGIN",token:t.uid})}))}}}))(Te);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Le=a(37);function Pe(e,t,a){return n={label:e,type:"text",errorMessage:t,className:[""],autocomplete:"off"},r=a,Object(H.a)({},n,{validation:r,valid:!r,touched:!1,value:""});var n,r}function xe(e,t,a){return n={label:e,type:"text",errorMessage:t,className:[""],autocomplete:"off"},r=a,Object(H.a)({},n,{validation:r,valid:!0,touched:!0,value:""});var n,r}var He={user:null,nameForDelete:"",showPreloader:!0,isFormValid:!1,modals:{isOpenModalAddCompany:!1,isOpenModalUpdateCompany:!1},formAddInputs:{name:Pe("\u0418\u043c\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438","\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",{required:!0}),count:Pe("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0446\u0438\u0439","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",{required:!0,type:"number"}),dividendPerShare:Pe("\u0420\u0430\u0437\u043c\u0435\u0440 \u0434\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u043e\u0432 (\u0432 \u0433\u043e\u0434)","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",{required:!0,type:"number"})},formUpdInputs:{count:xe("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0446\u0438\u0439","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",{required:!0,type:"number"}),dividendPerShare:xe("\u0420\u0430\u0437\u043c\u0435\u0440 \u0434\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u043e\u0432 (\u0432 \u0433\u043e\u0434)","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",{required:!0,type:"number"})},company:{name:"",count:"",dividendPerShare:"",currency:"USD"},companies:{},currency:[]};var Ue={user:null,isFormValid:!1,showModal:!1,showPreloader:!0,deposit:{},formAddDepoInputs:{amount:{type:"text",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",className:["depositInput"],placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",autocomplete:"off",valid:!1,touched:!1,value:"",validation:{required:!0,type:"number"}}},depositData:{currency:"usd",amount:"",date:Date.parse(new Date)},data:{},isOpen:!1};var Fe={token:null,error:null,isFormValid:!1,authInputs:{inputEmail:{type:"email",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",className:["authLogin"],placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",autocomplete:"off",valid:!1,touched:!1,value:"",validation:{required:!0,type:"email"}},inputPassword:{type:"password",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",errorMessage:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u0435\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",className:["authLogin"],placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",autocomplete:"off",valid:!1,touched:!1,value:"",validation:{required:!0,minLength:6}}}};var Be=Object(Le.c)({mainReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:case"MAIN_RENDER":return Object(H.a)({},e,{},t);case"CURRENCY":return Object(H.a)({},e,{currency:t.currency});case"CREATE_COMPANY":return Object(H.a)({},e,{},t);case"SHOW_PRELOADER":return Object(H.a)({},e,{showPreloader:!0});case"CLOSE_PRELOADER":return Object(H.a)({},e,{showPreloader:!1});case"GET_COMPANY_DATA":return Object(H.a)({},e,{},t);case"OPEN_MODAL_UPDATE":return Object(H.a)({},e,{modals:t.modals,nameForDelete:t.nameForDelete});case"CLOSE_MODAL":return Object(H.a)({},e,{modals:t.modals,formAddInputs:t.formAddInputs,isFormValid:t.isFormValid});case"CHANGE_SELECT":return Object(H.a)({},e,{company:t.company});default:return e}},depositReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:case"DEPOSIT_RENDER":case"OPEN_MODAL":return Object(H.a)({},e,{},t);case"DEPOSIT_CLOSE_MODAL":return Object(H.a)({},e,{showModal:!1});case"ON_CHANGE":case"CHANGE_SELECT":return Object(H.a)({},e,{},t);default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_INPUT":return Object(H.a)({},e,{},t);case"AUTH_LOGIN":return Object(H.a)({},e,{token:t.token,authInputs:t.authInputs});case"AUTH_SHOW_ERROR":return Object(H.a)({},e,{error:t.error});case"AUTH_CLOSE_ERROR":return Object(H.a)({},e,{error:null});case"AUTH_AUTO_LOGIN":return Object(H.a)({},e,{token:t.token});case"AUTH_LOGOUT":return Object(H.a)({},e,{token:null});default:return e}}}),We=a(104);a(184),a(185);Y.initializeApp({apiKey:"AIzaSyB73IC7XvE6QjjTcMWXZNePBcn_uiLgqWA",authDomain:"my-finance-journal.firebaseapp.com",databaseURL:"https://my-finance-journal.firebaseio.com",projectId:"my-finance-journal",storageBucket:"my-finance-journal.appspot.com",messagingSenderId:"152785363240",appId:"1:152785363240:web:e998b6a6a0fcacfb02701d"});var Ge="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Le.d,Ve=Object(Le.e)(Be,Ge(Object(Le.a)(We.a))),Je=r.a.createElement(P.a,{store:Ve},r.a.createElement(ye.a,null,r.a.createElement(Ie,null)));c.a.render(Je,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},25:function(e,t,a){e.exports={infoTitle:"Deposit_infoTitle__3gkEI",depoAndStatistic:"Deposit_depoAndStatistic__2fLQp",addInputWrapper:"Deposit_addInputWrapper__3vpGm",inputsBox:"Deposit_inputsBox__1MCGw",datePicker:"Deposit_datePicker__W7OSs",select:"Deposit_select__35ZVQ",DepoYear:"Deposit_DepoYear__kwzvR",noDeposit:"Deposit_noDeposit__13ymf",modalButtons:"Deposit_modalButtons__-_Xfp",delModalTitle:"Deposit_delModalTitle__cLplo"}},35:function(e,t,a){e.exports={Main:"Main_Main__1vgoG",MainModalTitle:"Main_MainModalTitle__13q-U",MaindeleteModal:"Main_MaindeleteModal__iEFK9",addSection:"Main_addSection__28WHz",modalDeleteBtnBox:"Main_modalDeleteBtnBox__Jzxl2",deleteModal:"Main_deleteModal__6P4QB",tableWrapper:"Main_tableWrapper__1Ob-j",infoTitle:"Main_infoTitle__3pcDE",noCompany:"Main_noCompany__1tKxz"}},36:function(e,t,a){e.exports={row:"CompaniesList_row__nolc5",header:"CompaniesList_header__3qeRk",CompanyName:"CompaniesList_CompanyName__1i8SX",Total:"CompaniesList_Total__3Yj2n",afterTax:"CompaniesList_afterTax__10qOu",Actions:"CompaniesList_Actions__3GIAz",LinksInsideSidebar:"CompaniesList_LinksInsideSidebar__1aSjk"}},46:function(e,t,a){e.exports={Input:"Input_Input__3ONfN",InputWrapper:"Input_InputWrapper__Zt24s",Error:"Input_Error__Puc9c",redText:"Input_redText__1Ef1e",depositInput:"Input_depositInput__1Rztl"}},48:function(e,t,a){e.exports={Auth:"Auth_Auth__2GNCP",mainTitle:"Auth_mainTitle__1zr8H",greetings:"Auth_greetings__YfzbQ",authForm:"Auth_authForm__3XK4D",btnContainer:"Auth_btnContainer__24eGa",error:"Auth_error__TyA0q",showError:"Auth_showError__33oTk"}},52:function(e,t,a){e.exports={Modal:"Modal_Modal__20zgA",FadeBg:"Modal_FadeBg__25HLL"}},54:function(e,t,a){e.exports={year:"DepoInnerWrapper_year__3RGxo",currency:"DepoInnerWrapper_currency__2RQ21",DepoCurrency:"DepoInnerWrapper_DepoCurrency__ibv5C",name:"DepoInnerWrapper_name__FRYYw"}},78:function(e,t,a){e.exports={Title:"Title_Title__3CuNC",titleH:"Title_titleH__1pg6d"}},79:function(e,t,a){e.exports={Button:"Button_Button__9J4sF",green:"Button_green__EsAFY",blue:"Button_blue__1qL-A",yellow:"Button_yellow__1CP2p",red:"Button_red__1jOaq",addDepo:"Button_addDepo__26YBQ"}},85:function(e,t,a){e.exports={Header:"Header_Header__1Jh10",logoutLink:"Header_logoutLink__3w-WC"}},95:function(e,t,a){e.exports={Layout:"Layout_Layout__1yNGr"}},96:function(e,t,a){e.exports={Preloader:"Preloader_Preloader__1ujyI"}},98:function(e,t,a){e.exports={li:"DepoDateAndAmount_li__DYIw9"}}},[[106,1,2]]]);
//# sourceMappingURL=main.8ee3d909.chunk.js.map