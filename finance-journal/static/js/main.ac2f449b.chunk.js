(this["webpackJsonpfinance-journal"]=this["webpackJsonpfinance-journal"]||[]).push([[0],{101:function(e,t,a){e.exports=a(189)},106:function(e,t,a){},107:function(e,t,a){},189:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(36),c=a.n(o),s=(a(106),a(15)),i=a(16),l=a(18),u=a(17),p=a(19),d=(a(107),a(90)),m=a.n(d),h=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:m.a.Layout},this.props.children)}}]),t}(r.a.Component),f=a(29),v=a.n(f),y=a(69),_=a.n(y),E=function(e){return r.a.createElement("div",{className:_.a.Title},r.a.createElement("h4",{className:_.a.titleH},e.title))},O=a(70),b=a.n(O),g=function(e){var t=[b.a.Button];return e.classses.forEach((function(e){return t.push(b.a[e])})),r.a.createElement("button",{disabled:!e.disabled,onClick:e.onClick,className:t.join(" ")},e.name)},j=a(43),k=a.n(j),C=function(e){var t=[k.a.Modal];return e.classes&&e.classes.forEach((function(e){return t.push(k.a[e])})),r.a.createElement("div",{className:t.join(" ")},e.children)},N=a(30),D=a.n(N),M=function(e){return r.a.createElement("div",{className:D.a.CompaniesList},r.a.createElement("div",{className:D.a.header},r.a.createElement("span",null,"\u0418\u043c\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),r.a.createElement("span",null,"\u0410\u043a\u0446\u0438\u0438 "),r.a.createElement("span",null,"\u0414\u0438\u0432\u0438\u0434\u0435\u043d\u0434"),r.a.createElement("span",null,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c (\u0433\u043e\u0434)")),function(t){var a=[];for(var n in t)if(e.currency===t[n].currency){var o="".concat(e.afterTax," + ").concat(Math.random()),c=r.a.createElement("div",{className:D.a.row,key:o},r.a.createElement("span",{datatype:"name",className:D.a.CompanyName,onClick:e.showModalHandlerDelete},n),r.a.createElement("span",{datatype:"count"},t[n].count),r.a.createElement("span",{datatype:"dividendPerShare"},t[n].dividendPerShare),r.a.createElement("span",null,Math.ceil(t[n].count*t[n].dividendPerShare*100)/100));a.push(c)}return a}(e.companies),function(t){var a=[],n=0,o=0;for(var c in t)if(e.currency===t[c].currency){var s=t[c].count*t[c].dividendPerShare;n+=s,o+=s-.13*s}var i=r.a.createElement("div",{key:o,className:D.a.footer},r.a.createElement("div",{className:D.a.Total},r.a.createElement("span",null,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u0434\u043e \u0432\u044b\u0447\u0435\u0442\u0430 \u043d\u0430\u043b\u043e\u0433\u043e\u0432"),r.a.createElement("span",null,Math.ceil(100*n)/100)),r.a.createElement("div",{className:D.a.Total},r.a.createElement("span",null,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0447\u0435\u0442\u0430 \u043d\u0430\u043b\u043e\u0433\u043e\u0432"),r.a.createElement("span",{className:D.a.afterTax},Math.ceil(100*o)/100)));return a.push(i),a}(e.companies))},w=a(40),A=a.n(w),I=function(e){var t=[A.a.Input];return e.classes&&e.classes.forEach((function(e){return t.push(A.a[e])})),e.valid||t.push(A.a.Error),r.a.createElement("div",{className:A.a.InputWrapper},r.a.createElement("label",{htmlFor:e.htmlFor},e.label),r.a.createElement("input",{className:t.join(" "),type:e.type||"text",id:e.htmlFor,onChange:e.onChange,placeholder:e.placeholder,autoComplete:e.autocomplete,value:e.value}),r.a.createElement("span",{className:A.a.redText},!e.valid&&e.touched?e.errorMessage||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435":null))},S=function(e){return r.a.createElement("div",{onClick:e.onClick,className:k.a.FadeBg})},x=a(91),T=a.n(x),L=function(e){return r.a.createElement("div",{className:T.a.Preloader},r.a.createElement("div",null,r.a.createElement("div",null),r.a.createElement("div",null)))},P=a(9),R=a(4),U=a(20),F=a(5),H=a.n(F),B=a(100),W="RENDER",V=a(45),J=a.n(V),G=J.a.create({baseURL:"https://my-finance-journal.firebaseio.com/users/"}),q=a(72),Y=a.n(q);function X(e,t){if(!t)return!0;var a=!0;return t.required&&(a=""!==e.trim()&&a),"number"===t.type&&(a=Y.a.number(+e)&&a),"email"===t.type&&(a=Y.a.email(e)&&a),t.minLength&&(a=t.minLength<=e.length&&a),a}function Z(){return function(e,t){var a,n,r,o;return H.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a=t().mainReducer,c.next=3,H.a.awrap(G.patch("/".concat(t().authReducer.token,"/portfolio/companies.json"),{}));case 3:return c.next=5,H.a.awrap(G.get("/".concat(t().authReducer.token,"/portfolio/companies.json")));case 5:if(n=c.sent,null!==(r=n.data)&&void 0!==r){c.next=10;break}return e({type:W,showPreloader:!1,companies:{}}),c.abrupt("return");case 10:o=Object(B.a)(a.currency),e({type:W,companies:r,showPreloader:!1}),Object.keys(r).forEach((function(e){var t=r[e].currency;o.includes(t)||o.push(t)})),e({type:"CURRENCY",currency:o});case 14:case"end":return c.stop()}}))}}function z(e,t){return function(a,n){var r=n().mainReducer,o=Object(R.a)({},r.modals);(o[t]=!0,"isOpenModalUpdateCompany"!==t)?a(function(e){return{type:"OPEN_MODAL_UPDATE",modals:e}}(o)):a(function(e,t){return{type:"OPEN_MODAL_UPDATE",modals:e,nameForDelete:t}}(o,e.target.parentNode.querySelector("span").textContent))}}function K(e,t){return function(e,a){var n=a().mainReducer,r=Object(R.a)({},n.modals),o=Object(R.a)({},n.formAddInputs);r[t]=!1;Object.keys(o).forEach((function(e){var t=Object(R.a)({},o[e]);t.valid=!1,t.touched=!1,t.value="",o[e]=t})),e({type:"CLOSE_MODAL",modals:r,formAddInputs:o,isFormValid:!1})}}var Q=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"renderInputs",value:function(e){var t=this;return Object.keys(this.props[e]).map((function(a,n){var o=t.props[e][a];return r.a.createElement(I,{key:a+n,type:o.type,value:o.value,classes:o.className,htmlFor:a+n,valid:o.valid,touched:o.touched,label:o.label,errorMessage:o.errorMessage,autocomplete:o.autocomplete,onChange:function(n){return t.props.getCompanyData(n,a,e)}})}))}},{key:"componentDidMount",value:function(){this.props.renderCompanies()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:v.a.Main},r.a.createElement(E,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439"}),r.a.createElement("h2",{className:v.a.infoTitle},"\u0414\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u044b \u0432 \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u0435"),this.props.showPreloader?r.a.createElement(L,null):0===Object.keys(this.props.companies).length?r.a.createElement("div",{className:v.a.noCompany},"\u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"):this.props.currency.map((function(t,a){return r.a.createElement("div",{className:v.a.tableWrapper,key:a},r.a.createElement("h3",null,t),r.a.createElement(M,{currency:t,companies:e.props.companies,showModalHandlerDelete:function(t){return e.props.clickOnCompany(t)}}))})),r.a.createElement("div",{className:v.a.addSection},r.a.createElement(g,{classses:["green"],name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e",onClick:function(t){return e.props.openModal(t,"isOpenModalAddCompany")},disabled:!0})),this.props.modals.isOpenModalAddCompany?r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null,r.a.createElement("h3",{className:v.a.MainModalTitle},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"),r.a.createElement("form",{onSubmit:this.props.createCompany},this.renderInputs("formAddInputs"),r.a.createElement("select",{onChange:this.props.selectHandler},r.a.createElement("option",{value:"USD"},"USD"),r.a.createElement("option",{value:"RUB"},"RUB")),r.a.createElement(g,{disabled:this.props.isFormValid,classses:["blue"],name:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"}))),r.a.createElement(S,{onClick:function(t){return e.props.closeModal(t,"isOpenModalAddCompany")}})):null,this.props.modals.isOpenModalUpdateCompany?r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null,r.a.createElement("h3",{className:v.a.deleteModal},'\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 "',this.props.nameForDelete,'"'),this.renderInputs("formUpdInputs"),r.a.createElement("div",{className:v.a.modalDeleteBtnBox},r.a.createElement(g,{name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",classses:["red"],onClick:function(t){return e.props.deleteCompany(e.props.nameForDelete)},disabled:this.props.isFormValid}),r.a.createElement(g,{name:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",classses:["green"],onClick:this.props.updateCompany,disabled:this.props.isFormValid}))),r.a.createElement(S,{onClick:function(t){return e.props.closeModal(t,"isOpenModalUpdateCompany")}})):null)}}]),t}(r.a.Component);var $=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.mainReducer))}),(function(e){return{renderCompanies:function(){return e(Z())},createCompany:function(t){return e(function(e){return e.preventDefault(),function(e,t){var a,n,r,o,c,s,i,l,u,p,d,m;return H.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return n=function(e,t,a,n){return Object(U.a)({},e,{count:t,dividendPerShare:a,currency:n})},a=t().mainReducer,r=a.company,o=r.name,c=r.count,s=r.dividendPerShare,i=r.currency,l=n(o,c,s,i),h.next=6,H.a.awrap(G.patch("/".concat(t().authReducer.token,"/portfolio/companies.json"),l));case 6:200===(u=h.sent).status&&(p=Object(R.a)({},a.modals),d=Object(R.a)({},a.formAddInputs),p.isOpenModalAddCompany=!1,m=u.data,console.log(m),Object.keys(d).forEach((function(e){var t=Object(R.a)({},d[e]);t.value="",d[e]=t})),e({type:"CREATE_COMPANY",company:l,companies:m,modals:p,formAddInputs:d}),e(Z()));case 8:case"end":return h.stop()}}))}}(t))},updateCompany:function(){return e((function(e,t){var a,n,r,o,c,s,i,l;return H.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return a=t().mainReducer,n=a.company,r=n.name,o=n.count,c=n.dividendPerShare,u.next=4,H.a.awrap(G.put("/".concat(t().authReducer.token,"/portfolio/companies/").concat(r,"/dividendPerShare.json"),c));case 4:return u.next=6,H.a.awrap(G.put("/".concat(t().authReducer.token,"/portfolio/companies/").concat(r,"/count.json"),o));case 6:return e({type:"SHOW_PRELOADER"}),u.next=9,H.a.awrap(G.get("/".concat(t().authReducer.token,"/portfolio/companies.json")));case 9:s=u.sent,i=s.data,l=Object.keys(i).map((function(e){return i[e].currency})),200===s.status&&(e({type:W,currency:l,companies:i,showPreloader:!1}),e(K(0,"isOpenModalUpdateCompany")));case 13:case"end":return u.stop()}}))}))},deleteCompany:function(t){return e(function(e){return function(t,a){var n,r,o;return H.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,H.a.awrap(G.delete("/".concat(a().authReducer.token,"/portfolio/companies/").concat(e,".json")));case 2:return c.next=4,H.a.awrap(G.get("/".concat(a().authReducer.token,"/portfolio/companies.json")));case 4:if(n=c.sent,t({type:"SHOW_PRELOADER"}),null!==n.data){c.next=14;break}return c.next=9,H.a.awrap(G.patch("/".concat(a().authReducer.token,"/portfolio/companies.json"),{}));case 9:return t({type:W,currency:[],companies:{},showPreloader:!1}),t(K(null,"isOpenModalUpdateCompany")),c.abrupt("return");case 14:try{r=n.data,o=Object.keys(r).map((function(e){return r[e].currency})),t({type:W,currency:o,companies:r,showPreloader:!1}),t(K(null,"isOpenModalUpdateCompany"))}catch(s){console.error(s)}case 15:case"end":return c.stop()}}))}}(t))},clickOnCompany:function(t){return e(function(e){return function(t,a){var n=a().mainReducer,r=Object.assign({},n.company),o=Object(R.a)({},n.formUpdInputs),c=Object(R.a)({},o.count),s=Object(R.a)({},o.dividendPerShare),i=e.target.parentNode;r.name=e.target.textContent,r.count=c.value=i.querySelector("span[datatype='count']").textContent,r.dividendPerShare=s.value=i.querySelector("span[datatype='dividendPerShare']").textContent,o.count=c,o.dividendPerShare=s,t({type:"GET_COMPANY_DATA",company:r,formUpdInputs:o,isFormValid:!0}),t(z(e,"isOpenModalUpdateCompany"))}}(t))},getCompanyData:function(t,a,n){return e(function(e,t,a){return function(n,r){var o,c=r().mainReducer,s=Object(R.a)({},c.company),i=Object(R.a)({},c[a]),l=Object(R.a)({},i[t]);l.touched=!0,l.value=e.target.value,l.valid=X(l.value,l.validation),i[t]=l,s[t]=e.target.value,s.currency="USD";var u=!0;Object.keys(i).forEach((function(e){u=i[e].valid&&u})),n((o={type:"GET_COMPANY_DATA",company:s},Object(U.a)(o,a,i),Object(U.a)(o,"isFormValid",u),o))}}(t,a,n))},openModal:function(t,a){return e(z(t,a))},closeModal:function(t,a){return e(K(0,a))},selectHandler:function(t){return e(function(e){return function(t,a){var n=a().mainReducer,r=Object(R.a)({},n.company);r.currency=e.target.value,t({type:"CHANGE_SELECT",company:r})}}(t))}}}))(Q),ee=a(22),te=a.n(ee),ae=a(46),ne=a.n(ae),re=a(93),oe=a.n(re),ce=function(e){var t=e.depo.sort((function(e,t){return new Date(e.date)-new Date(t.date)}));return r.a.createElement(r.a.Fragment,null,t.map((function(t,a){return r.a.createElement("li",{onClick:e.onClick,"data-currency":e.currency,"data-year":new Date(t.date).getFullYear(),"data-id":t.id,className:oe.a.li,key:a},r.a.createElement("span",null,function(e){var t=new Date(e).getDate(),a=new Date(e).toLocaleDateString("ru",{month:"long"});return"\u043c\u0430\u0440\u0442"===a?a+="a":a=a.slice(0,a.length-1)+"\u044f",[t,a].join(" ")}(t.date)),r.a.createElement("span",null,t.amount.toLocaleString("ru")," ","rub"===e.currency?"\u0440\u0443\u0431":"usd"===e.currency?"$":null))})))},se=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.showMoreHandler=function(){return a.setState({isOpen:!a.state.isOpen})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",{onClick:this.showMoreHandler,className:ne.a.year},this.props.year," \u0433\u043e\u0434"),r.a.createElement("div",{className:ne.a.currency},this.state.isOpen?Object.keys(this.props.currency).map((function(t,a){var n=e.props.currency[t];return r.a.createElement("div",{key:a,className:ne.a.DepoCurrency},r.a.createElement("h4",{className:ne.a.name},"rub"===t?"\u0420\u0443\u0431\u043b\u0438":"usd"===t?"\u0414\u043e\u043b\u043b\u0430\u0440\u044b":null),r.a.createElement("ul",null,r.a.createElement(ce,{onClick:e.props.onClick,currency:t,depo:n})))})):null))}}]),t}(r.a.Component);var ie=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.depositReducer))}),(function(e){return{}}))(se),le=a(94),ue=a.n(le);a(130);function pe(){return function(e,t){var a,n;return H.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,H.a.awrap(G.get("/".concat(t().authReducer.token,"/portfolio/deposit.json")));case 2:if(null!==(a=r.sent).data){r.next=9;break}return r.next=6,H.a.awrap(G.patch("/".concat(t().authReducer.token,"/portfolio.json"),{}));case 6:return e({type:W,deposit:{},showPreloader:!1}),r.abrupt("return");case 9:n=a.data,e({type:W,deposit:n,showPreloader:!1});case 11:case"end":return r.stop()}}))}}var de=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"renderInpus",value:function(e){var t=this;return Object.keys(this.props[e]).map((function(a,n){var o=t.props[e][a];return r.a.createElement(I,{key:a+n,type:o.type,value:o.value,classes:o.className,htmlFor:a+n,valid:o.valid,touched:o.touched,label:o.label,placeholder:o.placeholder,errorMessage:o.errorMessage,autocomplete:o.autocomplete,onChange:function(n){return t.props.onChangeHandler(n,a,e)}})}))}},{key:"componentDidMount",value:function(){this.props.renderDeposit()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:te.a.Deposit},r.a.createElement("div",null,r.a.createElement(E,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0439"}),r.a.createElement("h3",{className:te.a.infoTitle},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435"),r.a.createElement("form",{onSubmit:this.props.createDeposit},r.a.createElement("div",{className:te.a.inputsBox},this.renderInpus("formAddDepoInputs"),r.a.createElement(ue.a,{selected:this.props.depositData.date,onChange:this.props.handleChangeDate,className:te.a.datePicker,maxDate:new Date}),r.a.createElement("select",{className:te.a.select,onChange:this.props.selectHandler},r.a.createElement("option",{value:"usd"},"USD"),r.a.createElement("option",{value:"rub"},"RUB"))),r.a.createElement(g,{classses:["green","addDepo"],name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435",disabled:this.props.isFormValid}))),r.a.createElement("div",{className:te.a.depoAndStatistic},r.a.createElement("h3",{className:te.a.infoTitle},"\u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f\u043c"),this.props.showPreloader?r.a.createElement(L,null):0===Object.keys(this.props.deposit).length?r.a.createElement("div",{className:te.a.noDeposit}," \u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435 \u0431\u044b\u043b\u043e \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0439 "):r.a.createElement("div",{className:te.a.DepoYear},Object.keys(this.props.deposit).map((function(t,a){var n=e.props.deposit[t];return r.a.createElement(ie,{onClick:e.props.openModal,currency:n,year:t,index:a,key:a})})))),this.props.showModal?r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null,r.a.createElement("h2",{className:te.a.delModalTitle},"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435?"),r.a.createElement("div",{className:te.a.modalButtons},r.a.createElement(g,{classses:["red"],name:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",disabled:!0,onClick:this.props.deleteDeposit}),r.a.createElement(g,{classses:["green"],name:"\u041e\u0442\u043c\u0435\u043d\u0430",disabled:!0,onClick:this.props.closeModal}))),r.a.createElement(S,{onClick:this.props.closeModal})):null)}}]),t}(r.a.Component);var me=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.depositReducer))}),(function(e){return{renderDeposit:function(){return e(pe())},createDeposit:function(t){return e(function(e){return e.preventDefault(),function(e,t){var a,n,r,o,c,s,i,l,u,p,d,m,h;return H.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return a=t().depositReducer,n=a.depositData,r=n.date,o=n.amount,c=n.currency,s=new Date(r).getFullYear(),f.next=5,H.a.awrap(G.get("/".concat(t().authReducer.token,"/portfolio/deposit/").concat(s,"/").concat(c,".json")));case 5:if(i=f.sent,l=!0,u=Object(R.a)({},a.formAddDepoInputs),(p=Object(R.a)({},u.amount)).value="",u.amount=p,null!==i.data){f.next=20;break}return(d=[]).push({amount:+o,date:r,id:d.length+Math.random()}),f.next=16,H.a.awrap(G.put("/".concat(t().authReducer.token,"/portfolio/deposit/").concat(s,"/").concat(c,".json"),d));case 16:return m=f.sent,!1,200===m.status&&(e({type:W,showPreloader:l,isFormValid:!1,formAddDepoInputs:u}),e(pe())),f.abrupt("return");case 20:return i.data.push({amount:+o,date:r,id:i.data.length+Math.random()}),f.next=23,H.a.awrap(G.put("/".concat(t().authReducer.token,"/portfolio/deposit/").concat(s,"/").concat(c,".json"),i.data));case 23:h=f.sent,!1,200===h.status&&(e({type:W,showPreloader:l,isFormValid:!1,formAddDepoInputs:u}),e(pe()));case 26:case"end":return f.stop()}}))}}(t))},deleteDeposit:function(t){return e((function(e,t){var a,n,r,o,c,s,i,l,u,p;return H.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return a=t().depositReducer,n=!1,r=!1,o=Object(R.a)({},a.data),d.next=6,H.a.awrap(G.get("/".concat(t().authReducer.token,"/portfolio/deposit/").concat(o.year,"/").concat(o.currency,".json")));case 6:if(1!==(c=d.sent).data.length){d.next=20;break}return d.next=10,H.a.awrap(G.delete("/".concat(t().authReducer.token,"/portfolio/deposit/").concat(o.year,"/").concat(o.currency,".json")));case 10:return d.next=12,H.a.awrap(G.patch("/".concat(t().authReducer.token,"/portfolio/deposit.json"),{}));case 12:return d.next=14,H.a.awrap(G.get("/".concat(t().authReducer.token,"/portfolio/deposit.json")));case 14:s=d.sent,null===(i=s.data)&&(i={}),e({type:W,deposit:i,showPreloader:n,showModal:r}),d.next=28;break;case 20:return l=c.data.filter((function(e){return e.id!==+o.id})),d.next=23,H.a.awrap(G.put("/".concat(t().authReducer.token,"/portfolio/deposit/").concat(o.year,"/").concat(o.currency,".json"),l));case 23:return d.next=25,H.a.awrap(G.get("/".concat(t().authReducer.token,"/portfolio/deposit.json")));case 25:u=d.sent,p=u.data,e({type:W,deposit:p,showPreloader:n,showModal:r});case 28:case"end":return d.stop()}}))}))},openModal:function(t){return e(function(e){return function(t){t({type:"OPEN_MODAL",showModal:!0,data:e.currentTarget.dataset})}}(t))},closeModal:function(t){return e((function(e){e({type:"DEPOSIT_CLOSE_MODAL",showModal:!1})}))},onChangeHandler:function(t,a,n){return e(function(e,t,a){return function(n,r){var o,c=r().depositReducer,s=Object(R.a)({},c.depositData),i=Object(R.a)({},c[a]),l=Object(R.a)({},i[t]);l.touched=!0,l.value=e.target.value,l.valid=X(l.value,l.validation),s[t]=e.target.value,i[t]=l;var u=!0;Object.keys(i).forEach((function(e){u=i[e].valid&&u})),n((o={type:"ON_CHANGE",depositData:s},Object(U.a)(o,a,i),Object(U.a)(o,"isFormValid",u),o))}}(t,a,n))},handleChangeDate:function(t){return e(function(e){return function(t,a){var n=a().depositReducer,r=Object(R.a)({},n.depositData);r.date=Date.parse(e),t({type:"CHANGE_SELECT",depositData:r})}}(t))},selectHandler:function(t){return e(function(e){return function(t,a){var n=a().depositReducer,r=Object(R.a)({},n.depositData);r.currency=e.target.value,t({type:"CHANGE_SELECT",depositData:r})}}(t))}}}))(de),he=a(97),fe=a.n(he),ve=a(98),ye=a.n(ve),_e=a(39),Ee=function(e){return r.a.createElement("nav",{className:ye.a.LinksInsideSidebar},r.a.createElement("li",null,r.a.createElement(_e.b,{to:"/"}," \u0413\u043b\u0430\u0432\u043d\u0430\u044f ")),r.a.createElement("li",null,r.a.createElement(_e.b,{to:"/depo"}," \u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f ")))};var Oe=function(){return r.a.createElement("div",{className:fe.a.SidebarNavigation},r.a.createElement(Ee,null))},be=a(76),ge=a.n(be);var je=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.authReducer))}),(function(e){return{logout:function(t){return e(function(e){return e.preventDefault(),function(e){localStorage.removeItem("login"),e({type:"AUTH_LOGOUT"})}}(t))}}}))((function(e){return r.a.createElement("div",{className:ge.a.Header},r.a.createElement("div",null,"Finance Journal"),null!==e.token?r.a.createElement("div",null,r.a.createElement("a",{onClick:e.logout,className:ge.a.logoutLink,href:"#"},"\u0412\u044b\u0439\u0442\u0438")):null)})),ke=a(32),Ce=a(47),Ne=a.n(Ce),De=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"renderInput",value:function(e){var t=this;return Object.keys(this.props[e]).map((function(a,n){var o=t.props[e][a];return r.a.createElement(I,{key:n,type:o.type,label:o.label,errorMessage:o.errorMessage,className:o.className,placeholder:o.placeholder,valid:o.valid,touched:o.touched,value:o.value,validation:o.validation,onChange:function(n){return t.props.authChangeHandler(n,e,a)}})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:Ne.a.Auth},r.a.createElement(E,{title:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),r.a.createElement("p",{className:Ne.a.greetings},"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0438\u043b\u0438 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"),r.a.createElement("div",{className:Ne.a.authForm},r.a.createElement("form",{onSubmit:this.props.authForm},this.renderInput("authInputs"),r.a.createElement("div",{className:Ne.a.btnContainer},r.a.createElement(g,{classses:["green","authEntry"],name:"\u0412\u043e\u0439\u0442\u0438",disabled:this.props.isFormValid,onClick:this.props.loginHandler.bind(this,!0)}),r.a.createElement(g,{classses:["yellow","authReg"],name:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",disabled:this.props.isFormValid,onClick:this.props.loginHandler.bind(this,!1)})))))}}]),t}(r.a.Component);var Me=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.authReducer))}),(function(e){return{authChangeHandler:function(t,a,n){return e(function(e,t,a){return function(n,r){var o,c=r().authReducer,s=Object(R.a)({},c[t]),i=Object(R.a)({},s[a]);i.touched=!0,i.value=e.target.value,i.valid=X(i.value,i.validation),s[a]=i;var l=!0;Object.keys(s).forEach((function(e){l=s[e].valid&&l})),n((o={type:"AUTH_INPUT"},Object(U.a)(o,t,s),Object(U.a)(o,"isFormValid",l),o))}}(t,a,n))},authForm:function(t){return e(function(e){return e.preventDefault(),function(e){}}(t))},loginHandler:function(t){return e(function(e){return function(t,a){var n,r,o,c,s,i,l,u;return H.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(n=a().authReducer,r=Object(R.a)({},n.authInputs),o=Object(R.a)({},n.authInputs.inputEmail),c=Object(R.a)({},n.authInputs.inputPassword),s={email:o.value,password:c.value,returnSecureToken:!0},!e){p.next=12;break}return i="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyB73IC7XvE6QjjTcMWXZNePBcn_uiLgqWA",p.next=9,H.a.awrap(J.a.post(i,s));case 9:l=p.sent,p.next=16;break;case 12:return i="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyB73IC7XvE6QjjTcMWXZNePBcn_uiLgqWA",p.next=15,H.a.awrap(J.a.post(i,s));case 15:l=p.sent;case 16:try{u={kind:l.data.kind,localId:l.data.localId,email:l.data.email,displayName:l.data.displayName,idToken:l.data.idToken,registered:l.data.registered,refreshToken:l.data.refreshToken,expiresIn:l.data.expiresIn},o.value="",c.value="",r.inputEmail=o,r.inputPassword=c,t({type:"AUTH_LOGIN",authInputs:r,token:u.localId}),t(Z()),localStorage.setItem("login",JSON.stringify(u))}catch(d){console.log(d)}case 17:case"end":return p.stop()}}))}}(t))}}}))(De),we=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.autoLogin()}},{key:"render",value:function(){return r.a.createElement(h,null,r.a.createElement(je,null),this.props.token?r.a.createElement("div",{className:"main-page-wrapper"},r.a.createElement(Oe,null),r.a.createElement("div",{className:"main-page-content"},r.a.createElement(ke.d,null,r.a.createElement(ke.b,{exact:!0,path:"/",component:$}),r.a.createElement(ke.b,{path:"/depo",component:me}),r.a.createElement(ke.a,{to:"/",component:$})))):r.a.createElement("div",{className:"main-page-wrapper"},r.a.createElement(ke.b,null,r.a.createElement(ke.b,{exact:!0,path:"/auth",component:Me}),r.a.createElement(ke.a,{to:"/auth",component:Me}))))}}]),t}(n.Component);var Ae=Object(P.b)((function(e){return JSON.parse(JSON.stringify(e.authReducer))}),(function(e){return{autoLogin:function(){return e((function(e){var t=JSON.parse(localStorage.getItem("login"));e(null===t?{type:"AUTH_AUTO_LOGIN",token:null}:{type:"AUTH_AUTO_LOGIN",token:t.localId})}))}}}))(we);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ie=a(31);function Se(e,t,a){return n={label:e,type:"text",errorMessage:t,className:[""],autocomplete:"off"},r=a,Object(R.a)({},n,{validation:r,valid:!r,touched:!1,value:""});var n,r}function xe(e,t,a){return n={label:e,type:"text",errorMessage:t,className:[""],autocomplete:"off"},r=a,Object(R.a)({},n,{validation:r,valid:!0,touched:!0,value:""});var n,r}var Te={user:null,nameForDelete:"",showPreloader:!0,isFormValid:!1,modals:{isOpenModalAddCompany:!1,isOpenModalUpdateCompany:!1},formAddInputs:{name:Se("\u0418\u043c\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438","\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",{required:!0}),count:Se("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0446\u0438\u0439","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",{required:!0,type:"number"}),dividendPerShare:Se("\u0420\u0430\u0437\u043c\u0435\u0440 \u0434\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u043e\u0432 (\u0432 \u0433\u043e\u0434)","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",{required:!0,type:"number"})},formUpdInputs:{count:xe("\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0446\u0438\u0439","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",{required:!0,type:"number"}),dividendPerShare:xe("\u0420\u0430\u0437\u043c\u0435\u0440 \u0434\u0438\u0432\u0438\u0434\u0435\u043d\u0434\u043e\u0432 (\u0432 \u0433\u043e\u0434)","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",{required:!0,type:"number"})},company:{name:"",count:"",dividendPerShare:"",currency:"USD"},companies:{},currency:[]};var Le={user:null,isFormValid:!1,showModal:!1,showPreloader:!0,deposit:{},formAddDepoInputs:{amount:{type:"text",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e",className:["depositInput"],placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",autocomplete:"off",valid:!1,touched:!1,value:"",validation:{required:!0,type:"number"}}},depositData:{currency:"usd",amount:"",date:Date.parse(new Date)},data:{},isOpen:!1};var Pe={token:null,isFormValid:!1,authInputs:{inputEmail:{type:"email",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",className:["authLogin"],placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail",autocomplete:"off",valid:!1,touched:!1,value:"",validation:{required:!0,type:"email"}},inputPassword:{type:"password",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",errorMessage:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u0435\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",className:["authLogin"],placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",autocomplete:"off",valid:!1,touched:!1,value:"",validation:{required:!0,minLength:6}}}};var Re=Object(Ie.c)({mainReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(R.a)({},e,{},t);case"CURRENCY":return Object(R.a)({},e,{currency:t.currency});case"CREATE_COMPANY":return Object(R.a)({},e,{},t);case"SHOW_PRELOADER":return Object(R.a)({},e,{showPreloader:!0});case"CLOSE_PRELOADER":return Object(R.a)({},e,{showPreloader:!1});case"GET_COMPANY_DATA":return Object(R.a)({},e,{},t);case"OPEN_MODAL_UPDATE":return Object(R.a)({},e,{modals:t.modals,nameForDelete:t.nameForDelete});case"CLOSE_MODAL":return Object(R.a)({},e,{modals:t.modals,formAddInputs:t.formAddInputs,isFormValid:t.isFormValid});case"CHANGE_SELECT":return Object(R.a)({},e,{company:t.company});default:return e}},depositReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:case"OPEN_MODAL":return Object(R.a)({},e,{},t);case"DEPOSIT_CLOSE_MODAL":return Object(R.a)({},e,{showModal:!1});case"ON_CHANGE":case"CHANGE_SELECT":return Object(R.a)({},e,{},t);default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_INPUT":return Object(R.a)({},e,{},t);case"AUTH_LOGIN":return Object(R.a)({},e,{token:t.token,authInputs:t.authInputs});case"AUTH_AUTO_LOGIN":return Object(R.a)({},e,{token:t.token});case"AUTH_LOGOUT":return Object(R.a)({},e,{token:null});default:return e}}}),Ue=a(99),Fe="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Ie.d,He=Object(Ie.e)(Re,Fe(Object(Ie.a)(Ue.a))),Be=r.a.createElement(P.a,{store:He},r.a.createElement(_e.a,null,r.a.createElement(Ae,null)));c.a.render(Be,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},22:function(e,t,a){e.exports={infoTitle:"Deposit_infoTitle__1o1Ty",depoAndStatistic:"Deposit_depoAndStatistic__3URpZ",addInputWrapper:"Deposit_addInputWrapper__10Vxq",inputsBox:"Deposit_inputsBox__2QTBw",datePicker:"Deposit_datePicker__2Af0v",select:"Deposit_select__TmJnj",DepoYear:"Deposit_DepoYear__2IYYy",noDeposit:"Deposit_noDeposit__1RJZw",modalButtons:"Deposit_modalButtons__vGO6T",delModalTitle:"Deposit_delModalTitle__-lxPU"}},29:function(e,t,a){e.exports={Main:"Main_Main__nqTMN",MainModalTitle:"Main_MainModalTitle__qnLIa",MaindeleteModal:"Main_MaindeleteModal__1qg2h",addSection:"Main_addSection__1HoBv",modalDeleteBtnBox:"Main_modalDeleteBtnBox__vtkJH",deleteModal:"Main_deleteModal__1xfYO",tableWrapper:"Main_tableWrapper__390c2",infoTitle:"Main_infoTitle__nMyIU",noCompany:"Main_noCompany__VuEXH"}},30:function(e,t,a){e.exports={row:"CompaniesList_row__tp4nF",header:"CompaniesList_header__1z49L",CompanyName:"CompaniesList_CompanyName__2aWj7",Total:"CompaniesList_Total__3hGTS",afterTax:"CompaniesList_afterTax__BpW_O",Actions:"CompaniesList_Actions__9R6TN",LinksInsideSidebar:"CompaniesList_LinksInsideSidebar__1nakK"}},40:function(e,t,a){e.exports={Input:"Input_Input__2quG7",InputWrapper:"Input_InputWrapper__3uapM",Error:"Input_Error__29Muj",redText:"Input_redText__1IoDx",depositInput:"Input_depositInput__3CU92"}},43:function(e,t,a){e.exports={Modal:"Modal_Modal__7fSAt",FadeBg:"Modal_FadeBg__2Imzt"}},46:function(e,t,a){e.exports={year:"DepoInnerWrapper_year__2KZ8M",currency:"DepoInnerWrapper_currency__1A39Z",DepoCurrency:"DepoInnerWrapper_DepoCurrency__2aLag",name:"DepoInnerWrapper_name__3hsAY"}},47:function(e,t,a){e.exports={Auth:"Auth_Auth__IpAGL",mainTitle:"Auth_mainTitle__aH4nf",greetings:"Auth_greetings__2uHv6",authForm:"Auth_authForm__Yy_6p",btnContainer:"Auth_btnContainer__1zDFt"}},69:function(e,t,a){e.exports={Title:"Title_Title__2Z_yt",titleH:"Title_titleH__eupkD"}},70:function(e,t,a){e.exports={Button:"Button_Button__3bOL9",green:"Button_green__3e1jU",blue:"Button_blue__sg7FF",yellow:"Button_yellow__t73An",red:"Button_red__17dDb",addDepo:"Button_addDepo__bhl6g"}},76:function(e,t,a){e.exports={Header:"Header_Header__B089z",logoutLink:"Header_logoutLink__2y4NX"}},90:function(e,t,a){e.exports={Layout:"Layout_Layout__Jfo2K"}},91:function(e,t,a){e.exports={Preloader:"Preloader_Preloader__12uMJ"}},93:function(e,t,a){e.exports={li:"DepoDateAndAmount_li__2gAp1"}},97:function(e,t,a){e.exports={SidebarNavigation:"SidebarNavigation_SidebarNavigation__2VT4P"}},98:function(e,t,a){e.exports={LinksInsideSidebar:"LinksInsideSidebar_LinksInsideSidebar__1Lcd2"}}},[[101,1,2]]]);
//# sourceMappingURL=main.ac2f449b.chunk.js.map